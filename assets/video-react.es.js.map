{"version":3,"file":"video-react.es.js","sources":["../src/actions/video.js","../src/utils/fullscreen.js","../src/actions/player.js","../src/reducers/player.js","../src/reducers/operation.js","../src/reducers/index.js","../src/Manager.js","../src/components/BigPlayButton.js","../src/components/LoadingSpinner.js","../src/components/PosterImage.js","../src/utils/index.js","../src/components/Video.js","../src/components/Bezel.js","../src/utils/dom.js","../src/components/Shortcut.js","../src/components/Slider.js","../src/components/control-bar/PlayProgressBar.js","../src/components/control-bar/LoadProgressBar.js","../src/components/control-bar/MouseTimeDisplay.js","../src/components/control-bar/SeekBar.js","../src/components/control-bar/ProgressControl.js","../src/components/control-bar/PlayToggle.js","../src/components/control-bar/ForwardReplayControl.js","../src/components/control-bar/ForwardControl.js","../src/components/control-bar/ReplayControl.js","../src/components/control-bar/FullscreenToggle.js","../src/components/time-controls/RemainingTimeDisplay.js","../src/components/time-controls/CurrentTimeDisplay.js","../src/components/time-controls/DurationDisplay.js","../src/components/time-controls/TimeDivider.js","../src/components/ClickableComponent.js","../src/components/popup/Popup.js","../src/components/popup/PopupButton.js","../src/components/volume-control/VolumeLevel.js","../src/components/volume-control/VolumeBar.js","../src/components/control-bar/VolumeMenuButton.js","../src/components/menu/Menu.js","../src/components/menu/MenuItem.js","../src/components/menu/MenuButton.js","../src/components/control-bar/PlaybackRateMenuButton.js","../src/components/control-bar/ControlBar.js","../src/utils/browser.js","../src/components/Player.js","../src/components/control-bar/PlaybackRate.js"],"sourcesContent":["export const LOAD_START = 'video-react/LOAD_START';\nexport const CAN_PLAY = 'video-react/CAN_PLAY';\nexport const WAITING = 'video-react/WAITING';\nexport const CAN_PLAY_THROUGH = 'video-react/CAN_PLAY_THROUGH';\nexport const PLAYING = 'video-react/PLAYING';\nexport const PLAY = 'video-react/PLAY';\nexport const PAUSE = 'video-react/PAUSE';\nexport const END = 'video-react/END';\nexport const SEEKING = 'video-react/SEEKING';\nexport const SEEKED = 'video-react/SEEKED';\nexport const SEEKING_TIME = 'video-react/SEEKING_TIME';\nexport const END_SEEKING = 'video-react/END_SEEKING';\nexport const DURATION_CHANGE = 'video-react/DURATION_CHANGE';\nexport const TIME_UPDATE = 'video-react/TIME_UPDATE';\nexport const VOLUME_CHANGE = 'video-react/VOLUME_CHANGE';\nexport const PROGRESS_CHANGE = 'video-react/PROGRESS_CHANGE';\nexport const RATE_CHANGE = 'video-react/RATE_CHANGE';\nexport const SUSPEND = 'video-react/SUSPEND';\nexport const ABORT = 'video-react/ABORT';\nexport const EMPTIED = 'video-react/EMPTIED';\nexport const STALLED = 'video-react/STALLED';\nexport const LOADED_META_DATA = 'video-react/LOADED_META_DATA';\nexport const LOADED_DATA = 'video-react/LOADED_DATA';\nexport const RESIZE = 'video-react/RESIZE';\nexport const ERROR = 'video-react/ERROR';\n\nexport function handleLoadStart(videoProps) {\n  return {\n    type: LOAD_START,\n    videoProps,\n  };\n}\n\nexport function handleCanPlay(videoProps) {\n  return {\n    type: CAN_PLAY,\n    videoProps\n  };\n}\n\nexport function handleWaiting(videoProps) {\n  return {\n    type: WAITING,\n    videoProps\n  };\n}\n\nexport function handleCanPlayThrough(videoProps) {\n  return {\n    type: CAN_PLAY_THROUGH,\n    videoProps\n  };\n}\n\nexport function handlePlaying(videoProps) {\n  return {\n    type: PLAYING,\n    videoProps\n  };\n}\n\nexport function handlePlay(videoProps) {\n  return {\n    type: PLAY,\n    videoProps\n  };\n}\n\nexport function handlePause(videoProps) {\n  return {\n    type: PAUSE,\n    videoProps\n  };\n}\n\nexport function handleEnd(videoProps) {\n  return {\n    type: END,\n    videoProps\n  };\n}\n\nexport function handleSeeking(videoProps) {\n  return {\n    type: SEEKING,\n    videoProps\n  };\n}\n\nexport function handleSeeked(videoProps) {\n  return {\n    type: SEEKED,\n    videoProps\n  };\n}\n\nexport function handleDurationChange(videoProps) {\n  return {\n    type: DURATION_CHANGE,\n    videoProps\n  };\n}\n\nexport function handleTimeUpdate(videoProps) {\n  return {\n    type: TIME_UPDATE,\n    videoProps\n  };\n}\n\nexport function handleVolumeChange(videoProps) {\n  return {\n    type: VOLUME_CHANGE,\n    videoProps\n  };\n}\n\nexport function handleProgressChange(videoProps) {\n  return {\n    type: PROGRESS_CHANGE,\n    videoProps,\n  };\n}\n\nexport function handleRateChange(videoProps) {\n  return {\n    type: RATE_CHANGE,\n    videoProps,\n  };\n}\n\nexport function handleSuspend(videoProps) {\n  return {\n    type: SUSPEND,\n    videoProps,\n  };\n}\n\nexport function handleAbort(videoProps) {\n  return {\n    type: ABORT,\n    videoProps,\n  };\n}\n\nexport function handleEmptied(videoProps) {\n  return {\n    type: EMPTIED,\n    videoProps,\n  };\n}\n\nexport function handleStalled(videoProps) {\n  return {\n    type: STALLED,\n    videoProps,\n  };\n}\n\nexport function handleLoadedMetaData(videoProps) {\n  return {\n    type: LOADED_META_DATA,\n    videoProps,\n  };\n}\n\nexport function handleLoadedData(videoProps) {\n  return {\n    type: LOADED_DATA,\n    videoProps,\n  };\n}\n\nexport function handleResize(videoProps) {\n  return {\n    type: RESIZE,\n    videoProps,\n  };\n}\n\nexport function handleError(videoProps) {\n  return {\n    type: ERROR,\n    videoProps,\n  };\n}\n\nexport function handleSeekingTime(time) {\n  return {\n    type: SEEKING_TIME,\n    time\n  };\n}\n\nexport function handleEndSeeking(time) {\n  return {\n    type: END_SEEKING,\n    time\n  };\n}\n","class Fullscreen {\n  request(elm) {\n    if (elm.requestFullscreen) {\n      elm.requestFullscreen();\n    } else if (elm.webkitRequestFullscreen) {\n      elm.webkitRequestFullscreen();\n    } else if (elm.mozRequestFullScreen) {\n      elm.mozRequestFullScreen();\n    } else if (elm.msRequestFullscreen) {\n      elm.msRequestFullscreen();\n    }\n  }\n\n  exit() {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    }\n  }\n\n  get isFullscreen() {\n    return (\n      document.fullscreenElement\n      || document.webkitFullscreenElement\n      || document.mozFullScreenElement\n      || document.msFullscreenElement\n    );\n  }\n\n  get enabled() {\n    return (\n      document.fullscreenEnabled\n      || document.webkitFullscreenEnabled\n      || document.mozFullScreenEnabled\n      || document.msFullscreenEnabled\n    );\n  }\n\n  addEventListener(handler) {\n    document.addEventListener('fullscreenchange', handler);\n    document.addEventListener('webkitfullscreenchange', handler);\n    document.addEventListener('mozfullscreenchange', handler);\n    document.addEventListener('MSFullscreenChange', handler);\n  }\n\n  removeEventListener(handler) {\n    document.removeEventListener('fullscreenchange', handler);\n    document.removeEventListener('webkitfullscreenchange', handler);\n    document.removeEventListener('mozfullscreenchange', handler);\n    document.removeEventListener('MSFullscreenChange', handler);\n  }\n}\n\nexport default new Fullscreen();\n","import fullscreen from '../utils/fullscreen';\n\nexport const OPERATE = 'video-react/OPERATE';\nexport const FULLSCREEN_CHANGE = 'video-react/FULLSCREEN_CHANGE';\nexport const PLAYER_ACTIVATE = 'video-react/PLAYER_ACTIVATE';\nexport const USER_ACTIVATE = 'video-react/USER_ACTIVATE';\n\nexport function handleFullscreenChange(isFullscreen) {\n  return {\n    type: FULLSCREEN_CHANGE,\n    isFullscreen\n  };\n}\n\nexport function activate(activity) {\n  return {\n    type: PLAYER_ACTIVATE,\n    activity,\n  };\n}\n\nexport function userActivate(activity) {\n  return {\n    type: USER_ACTIVATE,\n    activity,\n  };\n}\n\nexport function play(operation = {\n  action: 'play',\n  source: ''\n}) {\n  this.video.play();\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function pause(operation = {\n  action: 'pause',\n  source: ''\n}) {\n  this.video.pause();\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function togglePlay(operation = {\n  action: 'toggle-play',\n  source: ''\n}) {\n  this.video.togglePlay();\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\n// seek video by time\nexport function seek(time, operation = {\n  action: 'seek',\n  source: ''\n}) {\n  this.video.seek(time);\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\n// jump forward x seconds\nexport function forward(seconds, operation = {\n  action: `forward-${seconds}`,\n  source: ''\n}) {\n  this.video.forward(seconds);\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\n// jump back x seconds\nexport function replay(seconds, operation = {\n  action: `replay-${seconds}`,\n  source: ''\n}) {\n  this.video.replay(seconds);\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function changeRate(rate, operation = {\n  action: 'change-rate',\n  source: ''\n}) {\n  this.video.playbackRate = rate;\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function changeVolume(volume, operation = {\n  action: 'change-volume',\n  source: ''\n}) {\n  let v = volume;\n  if (volume < 0) {\n    v = 0;\n  }\n  if (volume > 1) {\n    v = 1;\n  }\n  this.video.volume = v;\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function mute(muted, operation = {\n  action: muted ? 'muted' : 'unmuted',\n  source: ''\n}) {\n  this.video.muted = muted;\n\n  return {\n    type: OPERATE,\n    operation\n  };\n}\n\nexport function toggleFullscreen(player) {\n  if (fullscreen.enabled) {\n    if (fullscreen.isFullscreen) {\n      fullscreen.exit();\n    } else {\n      fullscreen.request(this.rootElement);\n    }\n    return {\n      type: OPERATE,\n      operation: {\n        action: 'toggle-fullscreen',\n        source: ''\n      }\n    };\n  }\n\n  return {\n    type: FULLSCREEN_CHANGE,\n    isFullscreen: !player.isFullscreen\n  };\n}\n","import {\n  LOAD_START, CAN_PLAY,\n  WAITING, CAN_PLAY_THROUGH, PLAYING,\n  PLAY, PAUSE, END, SEEKING, SEEKED,\n  SEEKING_TIME, END_SEEKING, DURATION_CHANGE,\n  TIME_UPDATE, VOLUME_CHANGE, PROGRESS_CHANGE,\n  RATE_CHANGE, SUSPEND, ABORT, EMPTIED,\n  STALLED, LOADED_META_DATA, LOADED_DATA,\n  RESIZE, ERROR\n} from '../actions/video';\nimport { FULLSCREEN_CHANGE, PLAYER_ACTIVATE, USER_ACTIVATE } from '../actions/player';\n\nconst initialState = {\n  currentSrc: null,\n  duration: 0,\n  currentTime: 0,\n  seekingTime: 0,\n  buffered: null,\n  waiting: false,\n  seeking: false,\n  paused: true,\n  autoPaused: false,\n  ended: false,\n  playbackRate: 1,\n  muted: false,\n  volume: 1,\n  readyState: 0,\n  networkState: 0,\n  videoWidth: 0,\n  videoHeight: 0,\n  hasStarted: false,\n  userActivity: true,\n  isActive: false,\n  isFullscreen: false,\n};\n\nexport default function player(state = initialState, action) {\n  switch (action.type) {\n    case USER_ACTIVATE:\n      return {\n        ...state,\n        userActivity: action.activity\n      };\n    case PLAYER_ACTIVATE:\n      return {\n        ...state,\n        isActive: action.activity\n      };\n    case FULLSCREEN_CHANGE:\n      return {\n        ...state,\n        isFullscreen: !!action.isFullscreen,\n      };\n    case SEEKING_TIME:\n      return {\n        ...state,\n        seekingTime: action.time\n      };\n    case END_SEEKING:\n      return {\n        ...state,\n        seekingTime: 0,\n      };\n    case LOAD_START:\n      return {\n        ...state,\n        ...action.videoProps,\n        hasStarted: false,\n        ended: false,\n      };\n    case CAN_PLAY:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: false,\n      };\n    case WAITING:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: true\n      };\n    case CAN_PLAY_THROUGH:\n    case PLAYING:\n      return {\n        ...state,\n        ...action.videoProps,\n        waiting: false\n      };\n    case PLAY:\n      return {\n        ...state,\n        ...action.videoProps,\n        ended: false,\n        paused: false,\n        autoPaused: false,\n        waiting: false,\n        hasStarted: true,\n      };\n    case PAUSE:\n      return {\n        ...state,\n        ...action.videoProps,\n        paused: true\n      };\n    case END:\n      return {\n        ...state,\n        ...action.videoProps,\n        ended: true\n      };\n    case SEEKING:\n      return {\n        ...state,\n        ...action.videoProps,\n        seeking: true\n      };\n    case SEEKED:\n      return {\n        ...state,\n        ...action.videoProps,\n        seeking: false\n      };\n    case ERROR:\n      return {\n        ...state,\n        ...action.videoProps,\n        error: 'UNKNOWN ERROR',\n        ended: true\n      };\n    case DURATION_CHANGE:\n    case TIME_UPDATE:\n    case VOLUME_CHANGE:\n    case PROGRESS_CHANGE:\n    case RATE_CHANGE:\n    case SUSPEND:\n    case ABORT:\n    case EMPTIED:\n    case STALLED:\n    case LOADED_META_DATA:\n    case LOADED_DATA:\n    case RESIZE:\n      return {\n        ...state,\n        ...action.videoProps,\n        ...(action.videoProps.paused === false ? { hasStarted: true, waiting: false } : {})\n      };\n    default:\n      return state;\n  }\n}\n","import { OPERATE } from '../actions/player';\n\nconst initialState = {\n  count: 0,\n  operation: {\n    action: '',\n    source: ''\n  }\n};\n\n\nexport default function operation(state = initialState, action) {\n  switch (action.type) {\n    case OPERATE:\n      return {\n        ...state,\n        count: state.count + 1,\n        operation: {\n          ...state.operation,\n          ...action.operation\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import player from './player';\nimport operation from './operation';\n\nexport default function (state = {}, action) {\n  return {\n    player: player(state.player, action),\n    operation: operation(state.operation, action),\n  };\n}\n\nexport const playerReducer = player;\nexport const operationReducer = operation;\n","import { createStore } from 'redux';\nimport reducer from './reducers';\nimport * as playerActions from './actions/player';\nimport * as videoActions from './actions/video';\n\n\nexport default class Manager {\n  constructor(store) {\n    this.store = store || createStore(reducer);\n\n    this.video = null;\n    this.rootElement = null;\n  }\n\n  getActions() {\n    const manager = this;\n    const { dispatch } = this.store;\n    const actions = {\n      ...playerActions,\n      ...videoActions,\n    };\n\n    function bindActionCreator(actionCreator) {\n      return function bindAction() {\n        // eslint-disable-next-line prefer-rest-params\n        const action = actionCreator.apply(manager, arguments);\n        if (typeof action !== 'undefined') {\n          dispatch(action);\n        }\n      };\n    }\n\n    return Object.keys(actions).filter(\n      key => typeof actions[key] === 'function',\n    ).reduce((boundActions, key) => {\n      boundActions[key] = bindActionCreator(actions[key]);\n      return boundActions;\n    }, {});\n  }\n\n  getState() {\n    return this.store.getState();\n  }\n\n  // subscribe state change\n  subscribeToStateChange(listener, getState) {\n    if (!getState) {\n      getState = this.getState.bind(this);\n    }\n\n    let prevState = getState();\n\n    const handleChange = () => {\n      const state = getState();\n      if (state === prevState) {\n        return;\n      }\n      const prevStateCopy = prevState;\n      prevState = state;\n      listener(state, prevStateCopy);\n    };\n\n    return this.store.subscribe(handleChange);\n  }\n\n  // subscribe to operation state change\n  subscribeToOperationStateChange(listener) {\n    return this.subscribeToStateChange(listener, () => this.getState().operation);\n  }\n\n  // subscribe to player state change\n  subscribeToPlayerStateChange(listener) {\n    return this.subscribeToStateChange(listener, () => this.getState().player);\n  }\n}\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  position: PropTypes.string,\n  className: PropTypes.string,\n};\n\nconst defaultProps = {\n  position: 'left',\n};\n\nexport default class BigPlayButton extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n  }\n\n  handleClick() {\n    const { actions } = this.props;\n    actions.play();\n  }\n\n  render() {\n    const { player, position } = this.props;\n    return (\n      <button\n        className={classNames(\n          'video-react-big-play-button',\n          `video-react-big-play-button-${position}`,\n          this.props.className,\n          {\n            'big-play-button-hide': player.hasStarted || !player.currentSrc,\n          }\n        )}\n        type=\"button\"\n        aria-live=\"polite\"\n        tabIndex=\"0\"\n        onClick={this.handleClick}\n      >\n        <span className=\"video-react-control-text\">Play Video</span>\n      </button>\n    );\n  }\n}\n\nBigPlayButton.propTypes = propTypes;\nBigPlayButton.defaultProps = defaultProps;\nBigPlayButton.displayName = 'BigPlayButton';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default function LoadingSpinner({ player, className }) {\n  if (player.error) {\n    return null;\n  }\n  return (\n    <div\n      className={classNames(\n        'video-react-loading-spinner',\n        className\n      )}\n    />\n  );\n}\n\nLoadingSpinner.propTypes = propTypes;\nLoadingSpinner.displayName = 'LoadingSpinner';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  poster: PropTypes.string,\n  player: PropTypes.object,\n  actions: PropTypes.object,\n  className: PropTypes.string,\n};\n\nfunction PosterImage({\n  poster, player, actions, className\n}) {\n  if (!poster || player.hasStarted) {\n    return null;\n  }\n\n  return (\n    <div\n      className={classNames(\n        'video-react-poster',\n        className\n      )}\n      style={{\n        backgroundImage: `url(\"${poster}\")`,\n      }}\n      onClick={() => {\n        if (player.paused) {\n          actions.play();\n        }\n      }}\n    />\n  );\n}\n\nPosterImage.propTypes = propTypes;\nPosterImage.displayName = 'PosterImage';\n\nexport default PosterImage;\n","import React from 'react';\n\n// NaN is the only value in javascript which is not equal to itself.\n// eslint-disable-next-line no-self-compare\nconst isNaN = Number.isNaN || (value => value !== value);\n\n/**\n * @file format-time.js\n *\n * Format seconds as a time string, H:MM:SS or M:SS\n * Supplying a guide (in seconds) will force a number of leading zeros\n * to cover the length of the guide\n *\n * @param  {Number} seconds Number of seconds to be turned into a string\n * @param  {Number} guide   Number (in seconds) to model the string after\n * @return {String}         Time formatted as H:MM:SS or M:SS\n * @private\n * @function formatTime\n */\nexport function formatTime(seconds = 0, guide = seconds) {\n  let s = Math.floor(seconds % 60);\n  let m = Math.floor((seconds / 60) % 60);\n  let h = Math.floor(seconds / 3600);\n  const gm = Math.floor((guide / 60) % 60);\n  const gh = Math.floor(guide / 3600);\n\n  // handle invalid times\n  if (isNaN(seconds) || seconds === Infinity) {\n    // '-' is false for all relational operators (e.g. <, >=) so this setting\n    // will add the minimum number of fields specified by the guide\n    h = '-';\n    m = '-';\n    s = '-';\n  }\n\n  // Check if we need to show hours\n  h = (h > 0 || gh > 0) ? `${h}:` : '';\n\n  // If hours are showing, we may need to add a leading zero.\n  // Always show at least one digit of minutes.\n  m = `${(((h || gm >= 10) && m < 10) ? `0${m}` : m)}:`;\n\n  // Check if leading zero is need for seconds\n  s = (s < 10) ? `0${s}` : s;\n\n  return h + m + s;\n}\n\n// Check if the element belongs to a video element\n// only accept <source />, <track />,\n// <MyComponent isVideoChild />\n// elements\nexport function isVideoChild(c) {\n  if (c.props && c.props.isVideoChild) {\n    return true;\n  }\n  return (c.type === 'source' || c.type === 'track');\n}\n\nconst find = (elements, func) => elements.filter(func)[0];\n\n// check if two components are the same type\nconst isTypeEqual = (component1, component2) => {\n  const type1 = component1.type;\n  const type2 = component2.type;\n\n  if (typeof type1 === 'string' || typeof type2 === 'string') {\n    return type1 === type2;\n  }\n\n  if (typeof type1 === 'function' && typeof type2 === 'function') {\n    return type1.displayName === type2.displayName;\n  }\n\n  return false;\n};\n\n// merge default children\n// sort them by `order` property\n// filter them by `disabled` property\nexport function mergeAndSortChildren(defaultChildren, _children, _parentProps, defaultOrder = 1) {\n  const children = React.Children.toArray(_children);\n  const { order, ...parentProps } = _parentProps; // ignore order from parent\n  return children\n    .filter(e => !e.props.disabled) // filter the disabled components\n    .concat(\n      defaultChildren.filter(\n        c => !find(children, component => isTypeEqual(component, c))\n      )\n    )\n    .map((element) => {\n      const defaultComponent = find(defaultChildren, c => isTypeEqual(c, element));\n\n      const defaultProps = defaultComponent ? defaultComponent.props : {};\n      const props = {\n        ...parentProps, // inherit from parent component\n        ...defaultProps, // inherit from default component\n        ...element.props, // element's own props\n      };\n      const e = React.cloneElement(\n        element,\n        props,\n        element.props.children\n      );\n      return e;\n    })\n    .sort((a, b) => (a.props.order || defaultOrder) - (b.props.order || defaultOrder));\n}\n\n/**\n * Temporary utility for generating the warnings\n */\nexport function deprecatedWarning(oldMethodCall, newMethodCall) {\n  // eslint-disable-next-line no-console\n  console.warn(`WARNING: ${oldMethodCall} will be deprecated soon! Please use ${newMethodCall} instead.`);\n}\n\nexport function throttle(callback, limit) {\n  let wait = false;\n  return () => {\n    if (!wait) {\n      // eslint-disable-next-line prefer-rest-params\n      callback(...arguments);\n      wait = true;\n      setTimeout(() => {\n        wait = false;\n      }, limit);\n    }\n  };\n}\n\nexport const mediaProperties = [\n  'error', 'src', 'srcObject',\n  'currentSrc', 'crossOrigin',\n  'networkState', 'preload', 'buffered',\n  'readyState', 'seeking', 'currentTime',\n  'duration', 'paused', 'defaultPlaybackRate',\n  'playbackRate', 'played', 'seekable',\n  'ended', 'autoplay', 'loop',\n  'mediaGroup', 'controller', 'controls',\n  'volume', 'muted', 'defaultMuted',\n  'audioTracks', 'videoTracks', 'textTracks',\n  'width', 'height', 'videoWidth', 'videoHeight',\n  'poster'\n];\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport { isVideoChild, mediaProperties, throttle } from '../utils';\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  children: PropTypes.any,\n  startTime: PropTypes.number,\n  loop: PropTypes.bool,\n  muted: PropTypes.bool,\n  autoPlay: PropTypes.bool,\n  playsInline: PropTypes.bool,\n  src: PropTypes.string,\n  poster: PropTypes.string,\n  className: PropTypes.string,\n  preload: PropTypes.oneOf(['auto', 'metadata', 'none']),\n  crossOrigin: PropTypes.string,\n\n  onLoadStart: PropTypes.func,\n  onWaiting: PropTypes.func,\n  onCanPlay: PropTypes.func,\n  onCanPlayThrough: PropTypes.func,\n  onPlaying: PropTypes.func,\n  onEnded: PropTypes.func,\n  onSeeking: PropTypes.func,\n  onSeeked: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onProgress: PropTypes.func,\n  onDurationChange: PropTypes.func,\n  onError: PropTypes.func,\n  onSuspend: PropTypes.func,\n  onAbort: PropTypes.func,\n  onEmptied: PropTypes.func,\n  onStalled: PropTypes.func,\n  onLoadedMetadata: PropTypes.func,\n  onLoadedData: PropTypes.func,\n  onTimeUpdate: PropTypes.func,\n  onRateChange: PropTypes.func,\n  onVolumeChange: PropTypes.func,\n  onResize: PropTypes.func,\n};\n\nconst defaultProps = {\n  preload: 'auto',\n};\n\nexport default class Video extends Component {\n  constructor(props) {\n    super(props);\n\n    this.video = null; // the html5 video\n    this.play = this.play.bind(this);\n    this.pause = this.pause.bind(this);\n    this.seek = this.seek.bind(this);\n    this.forward = this.forward.bind(this);\n    this.replay = this.replay.bind(this);\n    this.toggleFullscreen = this.toggleFullscreen.bind(this);\n    this.getProperties = this.getProperties.bind(this);\n    this.renderChildren = this.renderChildren.bind(this);\n    this.handleLoadStart = this.handleLoadStart.bind(this);\n    this.handleCanPlay = this.handleCanPlay.bind(this);\n    this.handleCanPlayThrough = this.handleCanPlayThrough.bind(this);\n    this.handlePlay = this.handlePlay.bind(this);\n    this.handlePlaying = this.handlePlaying.bind(this);\n    this.handlePause = this.handlePause.bind(this);\n    this.handleEnded = this.handleEnded.bind(this);\n    this.handleWaiting = this.handleWaiting.bind(this);\n    this.handleSeeking = this.handleSeeking.bind(this);\n    this.handleSeeked = this.handleSeeked.bind(this);\n    this.handleFullscreenChange = this.handleFullscreenChange.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.handleSuspend = this.handleSuspend.bind(this);\n    this.handleAbort = this.handleAbort.bind(this);\n    this.handleEmptied = this.handleEmptied.bind(this);\n    this.handleStalled = this.handleStalled.bind(this);\n    this.handleLoadedMetaData = this.handleLoadedMetaData.bind(this);\n    this.handleLoadedData = this.handleLoadedData.bind(this);\n    this.handleTimeUpdate = this.handleTimeUpdate.bind(this);\n    this.handleRateChange = this.handleRateChange.bind(this);\n    this.handleVolumeChange = this.handleVolumeChange.bind(this);\n    this.handleDurationChange = this.handleDurationChange.bind(this);\n    this.handleProgress = throttle(this.handleProgress.bind(this), 250);\n    this.handleKeypress = this.handleKeypress.bind(this);\n  }\n\n  componentDidMount() {\n    this.forceUpdate(); // make sure the children can get the video property\n  }\n\n  // get all video properties\n  getProperties() {\n    if (!this.video) {\n      return null;\n    }\n\n    return mediaProperties.reduce((properties, key) => {\n      properties[key] = this.video[key];\n      return properties;\n    }, {});\n  }\n\n  // get playback rate\n  get playbackRate() {\n    return this.video.playbackRate;\n  }\n\n  // set playback rate\n  // speed of video\n  set playbackRate(rate) {\n    this.video.playbackRate = rate;\n  }\n\n  get muted() {\n    return this.video.muted;\n  }\n\n  set muted(val) {\n    this.video.muted = val;\n  }\n\n  get volume() {\n    return this.video.volume;\n  }\n\n  set volume(val) {\n    if (val > 1) {\n      val = 1;\n    }\n    if (val < 0) {\n      val = 0;\n    }\n    this.video.volume = val;\n  }\n\n  // video width\n  get videoWidth() {\n    return this.video.videoWidth;\n  }\n\n  // video height\n  get videoHeight() {\n    return this.video.videoHeight;\n  }\n\n  // play the video\n  play() {\n    const promise = this.video.play();\n    if (promise !== undefined) {\n      promise\n        .catch(() => {})\n        .then(() => {});\n    }\n  }\n\n  // pause the video\n  pause() {\n    const promise = this.video.pause();\n    if (promise !== undefined) {\n      promise\n        .catch(() => {})\n        .then(() => {});\n    }\n  }\n\n  // Change the video source and re-load the video:\n  load() {\n    this.video.load();\n  }\n\n  // Add a new text track to the video\n  addTextTrack(...args) {\n    this.video.addTextTrack(...args);\n  }\n\n  // Check if your browser can play different types of video:\n  canPlayType(...args) {\n    this.video.canPlayType(...args);\n  }\n\n  // toggle play\n  togglePlay() {\n    if (this.video.paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  // seek video by time\n  seek(time) {\n    try {\n      this.video.currentTime = time;\n    } catch (e) {\n      // console.log(e, 'Video is not ready.')\n    }\n  }\n\n  // jump forward x seconds\n  forward(seconds) {\n    this.seek(this.video.currentTime + seconds);\n  }\n\n  // jump back x seconds\n  replay(seconds) {\n    this.forward(-seconds);\n  }\n\n  // enter or exist full screen\n  toggleFullscreen() {\n    const { player, actions } = this.props;\n    actions.toggleFullscreen(player);\n  }\n\n  // Fired when the user agent\n  // begins looking for media data\n  handleLoadStart(...args) {\n    const { actions, onLoadStart } = this.props;\n    actions.handleLoadStart(this.getProperties());\n    if (onLoadStart) {\n      onLoadStart(...args);\n    }\n  }\n\n  // A handler for events that\n  // signal that waiting has ended\n  handleCanPlay(...args) {\n    const { actions, onCanPlay } = this.props;\n\n    actions.handleCanPlay(this.getProperties());\n\n    if (onCanPlay) {\n      onCanPlay(...args);\n    }\n  }\n\n  // A handler for events that\n  // signal that waiting has ended\n  handleCanPlayThrough(...args) {\n    const { actions, onCanPlayThrough } = this.props;\n    actions.handleCanPlayThrough(this.getProperties());\n\n    if (onCanPlayThrough) {\n      onCanPlayThrough(...args);\n    }\n  }\n\n  // A handler for events that\n  // signal that waiting has ended\n  handlePlaying(...args) {\n    const { actions, onPlaying } = this.props;\n    actions.handlePlaying(this.getProperties());\n\n    if (onPlaying) {\n      onPlaying(...args);\n    }\n  }\n\n  // Fired whenever the media has been started\n  handlePlay(...args) {\n    const { actions, onPlay } = this.props;\n    actions.handlePlay(this.getProperties());\n\n    if (onPlay) {\n      onPlay(...args);\n    }\n  }\n\n  // Fired whenever the media has been paused\n  handlePause(...args) {\n    const { actions, onPause } = this.props;\n    actions.handlePause(this.getProperties());\n\n    if (onPause) {\n      onPause(...args);\n    }\n  }\n\n  // Fired when the duration of\n  // the media resource is first known or changed\n  handleDurationChange(...args) {\n    const { actions, onDurationChange } = this.props;\n    actions.handleDurationChange(this.getProperties());\n\n    if (onDurationChange) {\n      onDurationChange(...args);\n    }\n  }\n\n  // Fired while the user agent\n  // is downloading media data\n  handleProgress(...args) {\n    const { actions, onProgress } = this.props;\n    if (this.video) {\n      actions.handleProgressChange(this.getProperties());\n    }\n\n    if (onProgress) {\n      onProgress(...args);\n    }\n  }\n\n  // Fired when the end of the media resource\n  // is reached (currentTime == duration)\n  handleEnded(...args) {\n    const {\n      loop, player, actions, onEnded\n    } = this.props;\n    if (loop) {\n      this.seek(0);\n      this.play();\n    } else if (!player.paused) {\n      this.pause();\n    }\n    actions.handleEnd(this.getProperties());\n\n    if (onEnded) {\n      onEnded(...args);\n    }\n  }\n\n  // Fired whenever the media begins waiting\n  handleWaiting(...args) {\n    const { actions, onWaiting } = this.props;\n    actions.handleWaiting(this.getProperties());\n\n    if (onWaiting) {\n      onWaiting(...args);\n    }\n  }\n\n  // Fired whenever the player\n  // is jumping to a new time\n  handleSeeking(...args) {\n    const { actions, onSeeking } = this.props;\n    actions.handleSeeking(this.getProperties());\n\n    if (onSeeking) {\n      onSeeking(...args);\n    }\n  }\n\n  // Fired when the player has\n  // finished jumping to a new time\n  handleSeeked(...args) {\n    const { actions, onSeeked } = this.props;\n    actions.handleSeeked(this.getProperties());\n\n    if (onSeeked) {\n      onSeeked(...args);\n    }\n  }\n\n  // Handle Fullscreen Change\n  handleFullscreenChange() {\n  }\n\n\n  // Fires when the browser is\n  // intentionally not getting media data\n  handleSuspend(...args) {\n    const { actions, onSuspend } = this.props;\n    actions.handleSuspend(this.getProperties());\n    if (onSuspend) {\n      onSuspend(...args);\n    }\n  }\n\n  // Fires when the loading of an audio/video is aborted\n  handleAbort(...args) {\n    const { actions, onAbort } = this.props;\n    actions.handleAbort(this.getProperties());\n    if (onAbort) {\n      onAbort(...args);\n    }\n  }\n\n  // Fires when the current playlist is empty\n  handleEmptied(...args) {\n    const { actions, onEmptied } = this.props;\n    actions.handleEmptied(this.getProperties());\n    if (onEmptied) {\n      onEmptied(...args);\n    }\n  }\n\n  // Fires when the browser is trying to\n  // get media data, but data is not available\n  handleStalled(...args) {\n    const { actions, onStalled } = this.props;\n    actions.handleStalled(this.getProperties());\n\n    if (onStalled) {\n      onStalled(...args);\n    }\n  }\n\n  // Fires when the browser has loaded\n  // meta data for the audio/video\n  handleLoadedMetaData(...args) {\n    const { actions, onLoadedMetadata, startTime } = this.props;\n\n    if (startTime && startTime > 0) {\n      this.video.currentTime = startTime;\n    }\n\n    actions.handleLoadedMetaData(this.getProperties());\n\n    if (onLoadedMetadata) {\n      onLoadedMetadata(...args);\n    }\n  }\n\n  // Fires when the browser has loaded\n  // the current frame of the audio/video\n  handleLoadedData(...args) {\n    const { actions, onLoadedData } = this.props;\n    actions.handleLoadedData(this.getProperties());\n\n    if (onLoadedData) {\n      onLoadedData(...args);\n    }\n  }\n\n  // Fires when the current\n  // playback position has changed\n  handleTimeUpdate(...args) {\n    const { actions, onTimeUpdate } = this.props;\n    actions.handleTimeUpdate(this.getProperties());\n\n    if (onTimeUpdate) {\n      onTimeUpdate(...args);\n    }\n  }\n\n  /**\n   * Fires when the playing speed of the audio/video is changed\n   */\n  handleRateChange(...args) {\n    const { actions, onRateChange } = this.props;\n    actions.handleRateChange(this.getProperties());\n\n    if (onRateChange) {\n      onRateChange(...args);\n    }\n  }\n\n  // Fires when the volume has been changed\n  handleVolumeChange(...args) {\n    const { actions, onVolumeChange } = this.props;\n    actions.handleVolumeChange(this.getProperties());\n\n    if (onVolumeChange) {\n      onVolumeChange(...args);\n    }\n  }\n\n  // Fires when an error occurred\n  // during the loading of an audio/video\n  handleError(...args) {\n    const { actions, onError } = this.props;\n    actions.handleError(this.getProperties());\n    if (onError) {\n      onError(...args);\n    }\n  }\n\n  handleResize(...args) {\n    const { actions, onResize } = this.props;\n    actions.handleResize(this.getProperties());\n    if (onResize) {\n      onResize(...args);\n    }\n  }\n\n  handleKeypress() {\n\n  }\n\n  renderChildren() {\n    const props = {\n      ...this.props,\n      video: this.video,\n    };\n\n    // to make sure the children can get video property\n    if (!this.video) {\n      return null;\n    }\n\n    // only keep <source />, <track />, <MyComponent isVideoChild /> elements\n    return React.Children.toArray(this.props.children)\n      .filter(isVideoChild)\n      .map((c) => {\n        let cprops;\n        if (typeof c.type === 'string') {\n          // add onError to <source />\n          if (c.type === 'source') {\n            cprops = { ...c.props };\n            const preOnError = cprops.onError;\n            cprops.onError = (...args) => {\n              if (preOnError) {\n                preOnError(...args);\n              }\n              this.handleError(...args);\n            };\n          }\n        } else {\n          cprops = props;\n        }\n        return React.cloneElement(\n          c,\n          cprops\n        );\n      });\n  }\n\n  render() {\n    const {\n      loop, poster, preload, src, autoPlay,\n      playsInline, muted, crossOrigin, videoId\n    } = this.props;\n\n    return (\n      <video\n        className={classNames(\n          'video-react-video',\n          this.props.className\n        )}\n        id={videoId}\n        crossOrigin={crossOrigin}\n        ref={(c) => { this.video = c; }}\n        muted={muted}\n        preload={preload}\n        loop={loop}\n        playsInline={playsInline}\n        autoPlay={autoPlay}\n        poster={poster}\n        src={src}\n        onLoadStart={this.handleLoadStart}\n        onWaiting={this.handleWaiting}\n        onCanPlay={this.handleCanPlay}\n        onCanPlayThrough={this.handleCanPlayThrough}\n        onPlaying={this.handlePlaying}\n        onEnded={this.handleEnded}\n        onSeeking={this.handleSeeking}\n        onSeeked={this.handleSeeked}\n        onPlay={this.handlePlay}\n        onPause={this.handlePause}\n        onProgress={this.handleProgress}\n        onDurationChange={this.handleDurationChange}\n        onError={this.handleError}\n        onSuspend={this.handleSuspend}\n        onAbort={this.handleAbort}\n        onEmptied={this.handleEmptied}\n        onStalled={this.handleStalled}\n        onLoadedMetadata={this.handleLoadedMetaData}\n        onLoadedData={this.handleLoadedData}\n        onTimeUpdate={this.handleTimeUpdate}\n        onRateChange={this.handleRateChange}\n        onVolumeChange={this.handleVolumeChange}\n      >\n        {this.renderChildren()}\n      </video>\n    );\n  }\n}\n\nVideo.propTypes = propTypes;\nVideo.defaultProps = defaultProps;\nVideo.displayName = 'Video';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\n\nconst propTypes = {\n  manager: PropTypes.object,\n  className: PropTypes.string,\n};\n\n\nexport default class Bezel extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.timer = null;\n    props.manager.subscribeToOperationStateChange(this.handleStateChange.bind(this));\n\n    this.state = {\n      hidden: true,\n      operation: {},\n    };\n  }\n\n  handleStateChange(state, prevState) {\n    if (state.count !== prevState.count\n      && state.operation.source === 'shortcut') {\n      if (this.timer) { // previous animation is not finished\n        clearTimeout(this.timer); // cancel it\n        this.timer = null;\n      }\n\n      // show it\n      // update operation\n      this.setState({\n        hidden: false,\n        count: state.count,\n        operation: state.operation,\n      });\n\n      // hide it after 0.5s\n      this.timer = setTimeout(() => {\n        this.setState({\n          hidden: true,\n        });\n        this.timer = null;\n      }, 500);\n    }\n  }\n\n  render() {\n    // only displays for shortcut so far\n    if (this.state.operation.source !== 'shortcut') {\n      return null;\n    }\n    const style = this.state.hidden ? {\n      display: 'none'\n    } : null;\n\n    return (\n      <div\n        className={classNames({\n          'video-react-bezel': true,\n          'video-react-bezel-animation': this.state.count % 2 === 0,\n          'video-react-bezel-animation-alt': this.state.count % 2 === 1,\n        }, this.props.className)}\n        style={style}\n        role=\"status\"\n        aria-label={this.state.operation.action}\n      >\n        <div\n          className={classNames(\n            'video-react-bezel-icon',\n            `video-react-bezel-icon-${this.state.operation.action}`\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nBezel.propTypes = propTypes;\nBezel.displayName = 'Bezel';\n","import { findDOMNode } from 'react-dom';\n\n/**\n * Offset Left\n * getBoundingClientRect technique from\n * John Resig http://ejohn.org/blog/getboundingclientrect-is-awesome/\n *\n * @function findElPosition\n * @param {Element} el Element from which to get offset\n * @return {Object}\n */\nexport function findElPosition(el) {\n  let box;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0,\n    };\n  }\n\n  const { body, documentElement: docEl } = document;\n\n  const clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  const scrollLeft = window.pageXOffset || body.scrollLeft;\n  const left = (box.left + scrollLeft) - clientLeft;\n\n  const clientTop = docEl.clientTop || body.clientTop || 0;\n  const scrollTop = window.pageYOffset || body.scrollTop;\n  const top = (box.top + scrollTop) - clientTop;\n\n  // Android sometimes returns slightly off decimal values, so need to round\n  return {\n    left: Math.round(left),\n    top: Math.round(top),\n  };\n}\n\n\n/**\n * Get pointer position in element\n * Returns an object with x and y coordinates.\n * The base on the coordinates are the bottom left of the element.\n *\n * @function getPointerPosition\n * @param {Element} el Element on which to get the pointer position on\n * @param {Event} event Event object\n * @return {Object} This object will have x and y coordinates corresponding to the mouse position\n */\nexport function getPointerPosition(el, event) {\n  const position = {};\n  const box = findElPosition(el);\n  const boxW = el.offsetWidth;\n  const boxH = el.offsetHeight;\n\n  const boxY = box.top;\n  const boxX = box.left;\n  let evtPageY = event.pageY;\n  let evtPageX = event.pageX;\n\n  if (event.changedTouches) {\n    evtPageX = event.changedTouches[0].pageX;\n    evtPageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, ((boxY - evtPageY) + boxH) / boxH));\n  position.x = Math.max(0, Math.min(1, (evtPageX - boxX) / boxW));\n\n  return position;\n}\n\n// blur an element\nexport function blurNode(reactNode) {\n  const domNode = findDOMNode(reactNode);\n  if (domNode && domNode.blur) {\n    domNode.blur();\n  }\n}\n\n// check if an element has a class name\nexport function hasClass(elm, cls) {\n  const classes = elm.className.split(' ');\n  for (let i = 0; i < classes.length; i++) {\n    if (classes[i].toLowerCase() === cls.toLowerCase()) {\n      return true;\n    }\n  }\n  return false;\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { hasClass } from '../utils/dom';\n\nconst propTypes = {\n  clickable: PropTypes.bool,\n  dblclickable: PropTypes.bool,\n  manager: PropTypes.object,\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  shortcuts: PropTypes.array,\n};\n\nconst defaultProps = {\n  clickable: true,\n  dblclickable: true,\n};\n\nexport default class Shortcut extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.defaultShortcuts = [\n      {\n        keyCode: 32, // spacebar\n        handle: this.togglePlay,\n      },\n      {\n        keyCode: 75, // k\n        handle: this.togglePlay,\n      },\n      {\n        keyCode: 70, // f\n        handle: this.toggleFullscreen,\n      },\n      {\n        keyCode: 37, // Left arrow\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.replay(5, {\n            action: 'replay-5',\n            source: 'shortcut',\n          }); // Go back 5 seconds\n        },\n      },\n      {\n        keyCode: 74, // j\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.replay(10, {\n            action: 'replay-10',\n            source: 'shortcut',\n          }); // Go back 10 seconds\n        },\n      },\n      {\n        keyCode: 39, // Right arrow\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.forward(5, {\n            action: 'forward-5',\n            source: 'shortcut',\n          }); // Go forward 5 seconds\n        },\n      },\n      {\n        keyCode: 76, // l\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.forward(10, {\n            action: 'forward-10',\n            source: 'shortcut',\n          }); // Go forward 10 seconds\n        },\n      },\n      {\n        keyCode: 36, // Home\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          actions.seek(0); // Go to beginning of video\n        },\n      },\n      {\n        keyCode: 35, // End\n        handle: (player, actions) => {\n          if (!player.hasStarted) {\n            return;\n          }\n          // Go to end of video\n          actions.seek(player.duration);\n        },\n      },\n      {\n        keyCode: 38, // Up arrow\n        handle: (player, actions) => {\n          // Increase volume 5%\n          let v = player.volume + 0.05;\n          if (v > 1) {\n            v = 1;\n          }\n          actions.changeVolume(v, {\n            action: 'volume-up',\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 40, // Down arrow\n        handle: (player, actions) => {\n          // Decrease volume 5%\n          let v = player.volume - 0.05;\n          if (v < 0) {\n            v = 0;\n          }\n          const action = (v > 0) ? 'volume-down' : 'volume-off';\n          actions.changeVolume(v, {\n            action,\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 190, // Shift + >\n        shift: true,\n        handle: (player, actions) => {\n          // Increase speed\n          let { playbackRate } = player;\n          if (playbackRate >= 1.5) {\n            playbackRate = 2;\n          } else if (playbackRate >= 1.25) {\n            playbackRate = 1.5;\n          } else if (playbackRate >= 1.0) {\n            playbackRate = 1.25;\n          } else if (playbackRate >= 0.5) {\n            playbackRate = 1.0;\n          } else if (playbackRate >= 0.25) {\n            playbackRate = 0.5;\n          } else if (playbackRate >= 0) {\n            playbackRate = 0.25;\n          }\n          actions.changeRate(playbackRate, {\n            action: 'fast-forward',\n            source: 'shortcut',\n          });\n        },\n      },\n      {\n        keyCode: 188, // Shift + <\n        shift: true,\n        handle: (player, actions) => {\n          // Decrease speed\n          let { playbackRate } = player;\n          if (playbackRate <= 0.5) {\n            playbackRate = 0.25;\n          } else if (playbackRate <= 1.0) {\n            playbackRate = 0.5;\n          } else if (playbackRate <= 1.25) {\n            playbackRate = 1.0;\n          } else if (playbackRate <= 1.5) {\n            playbackRate = 1.25;\n          } else if (playbackRate <= 2) {\n            playbackRate = 1.5;\n          }\n          actions.changeRate(playbackRate, {\n            action: 'fast-rewind',\n            source: 'shortcut',\n          });\n        },\n      },\n    ];\n\n    this.shortcuts = [...this.defaultShortcuts];\n\n    this.mergeShortcuts = this.mergeShortcuts.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.mergeShortcuts();\n    document.addEventListener('keydown', this.handleKeyPress);\n    document.addEventListener('click', this.handleClick);\n    document.addEventListener('dblclick', this.handleDoubleClick);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.shortcuts !== this.props.shortcuts) {\n      this.mergeShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyPress);\n    document.removeEventListener('click', this.handleClick);\n    document.removeEventListener('dblclick', this.handleDoubleClick);\n  }\n\n  // merge the shortcuts from props\n  mergeShortcuts() {\n    const getShortcutKey = ({\n      keyCode = 0, ctrl = false, shift = false, alt = false\n    }) => `${keyCode}:${ctrl}:${shift}:${alt}`;\n    const defaultShortcuts = this.defaultShortcuts\n      .reduce(\n        (shortcuts, shortcut) => Object.assign(shortcuts, {\n          [getShortcutKey(shortcut)]: shortcut,\n        }),\n        {}\n      );\n    const mergedShortcuts = (this.props.shortcuts || [])\n      .reduce((shortcuts, shortcut) => {\n        const { keyCode, handle } = shortcut;\n        if (keyCode && typeof handle === 'function') {\n          return Object.assign(shortcuts, {\n            [getShortcutKey(shortcut)]: shortcut,\n          });\n        }\n        return shortcuts;\n      }, defaultShortcuts);\n\n    const gradeShortcut = (s) => {\n      let score = 0;\n      const ps = ['ctrl', 'shift', 'alt'];\n      ps.forEach((key) => {\n        if (s[key]) {\n          score++;\n        }\n      });\n      return score;\n    };\n\n    this.shortcuts = Object.keys(mergedShortcuts)\n      .map(key => mergedShortcuts[key])\n      .sort((a, b) => gradeShortcut(b) - gradeShortcut(a));\n  }\n\n  togglePlay(player, actions) {\n    if (player.paused) {\n      actions.play({\n        action: 'play',\n        source: 'shortcut',\n      });\n    } else {\n      actions.pause({\n        action: 'pause',\n        source: 'shortcut',\n      });\n    }\n  }\n\n  toggleFullscreen(player, actions) {\n    actions.toggleFullscreen(player);\n  }\n\n  handleKeyPress(e) {\n    const { player, actions } = this.props;\n    if (!player.isActive) {\n      return;\n    }\n    if (document.activeElement && (\n      hasClass(document.activeElement, 'video-react-control')\n        || hasClass(document.activeElement, 'video-react-menu-button-active')\n        // || hasClass(document.activeElement, 'video-react-slider')\n        || hasClass(document.activeElement, 'video-react-big-play-button')\n    )) {\n      return;\n    }\n\n    const keyCode = e.keyCode || e.which;\n    const ctrl = e.ctrlKey || e.metaKey;\n    const shift = e.shiftKey;\n    const alt = e.altKey;\n\n    const shortcut = this.shortcuts.filter((s) => {\n      if (!s.keyCode || s.keyCode - keyCode !== 0) {\n        return false;\n      }\n      if ((s.ctrl !== undefined && s.ctrl !== ctrl)\n        || (s.shift !== undefined && s.shift !== shift)\n        || (s.alt !== undefined && s.alt !== alt)\n      ) {\n        return false;\n      }\n      return true;\n    })[0];\n\n    if (shortcut) {\n      shortcut.handle(player, actions);\n      e.preventDefault();\n    }\n  }\n\n  // only if player is active and player is ready\n  canBeClicked(player, e) {\n    if (!player.isActive\n      || e.target.nodeName !== 'VIDEO'\n      || player.readyState !== 4) {\n      return false;\n    }\n    return true;\n  }\n\n  handleClick(e) {\n    const { player, actions, clickable } = this.props;\n    if (!this.canBeClicked(player, e) || !clickable) {\n      return;\n    }\n    this.togglePlay(player, actions);\n    // e.preventDefault();\n  }\n\n  handleDoubleClick(e) {\n    const { player, actions, dblclickable } = this.props;\n    if (!this.canBeClicked(player, e) || !dblclickable) {\n      return;\n    }\n    this.toggleFullscreen(player, actions);\n    // e.preventDefault();\n  }\n\n  // this component dose not render anything\n  // it's just for the key down event\n  render() {\n    return null;\n  }\n}\n\nShortcut.propTypes = propTypes;\nShortcut.defaultProps = defaultProps;\nShortcut.displayName = 'Shortcut';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\nimport * as Dom from '../utils/dom';\n\nconst propTypes = {\n  className: PropTypes.string,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  stepForward: PropTypes.func,\n  stepBack: PropTypes.func,\n  sliderActive: PropTypes.func,\n  sliderInactive: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  getPercent: PropTypes.func,\n  vertical: PropTypes.bool,\n  children: PropTypes.node,\n  label: PropTypes.string,\n  valuenow: PropTypes.string,\n  valuetext: PropTypes.string,\n};\n\nexport default class Slider extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.stepForward = this.stepForward.bind(this);\n    this.stepBack = this.stepBack.bind(this);\n    this.calculateDistance = this.calculateDistance.bind(this);\n    this.getProgress = this.getProgress.bind(this);\n    this.renderChildren = this.renderChildren.bind(this);\n\n    this.state = {\n      active: false,\n    };\n  }\n\n  getProgress() {\n    const { getPercent } = this.props;\n    if (!getPercent) {\n      return 0;\n    }\n    let progress = getPercent();\n\n    // Protect against no duration and other division issues\n    if (typeof progress !== 'number'\n      || progress < 0\n      || progress === Infinity) {\n      progress = 0;\n    }\n    return progress;\n  }\n\n  handleMouseDown(event) {\n    const { onMouseDown } = this.props;\n    // event.preventDefault();\n    // event.stopPropagation();\n\n    document.addEventListener('mousemove', this.handleMouseMove, true);\n    document.addEventListener('mouseup', this.handleMouseUp, true);\n    document.addEventListener('touchmove', this.handleMouseMove, true);\n    document.addEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({\n      active: true\n    });\n\n    if (this.props.sliderActive) {\n      this.props.sliderActive(event);\n    }\n\n    this.handleMouseMove(event);\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n  }\n\n  handleMouseMove(event) {\n    const { onMouseMove } = this.props;\n\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n  }\n\n  handleMouseUp(event) {\n    const { onMouseUp } = this.props;\n\n    document.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.removeEventListener('mouseup', this.handleMouseUp, true);\n    document.removeEventListener('touchmove', this.handleMouseMove, true);\n    document.removeEventListener('touchend', this.handleMouseUp, true);\n\n    this.setState({\n      active: false,\n    });\n\n    if (this.props.sliderInactive) {\n      this.props.sliderInactive(event);\n    }\n\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n  }\n\n  handleFocus(e) {\n    document.addEventListener('keydown', this.handleKeyPress, true);\n    if (this.props.onFocus) {\n      this.props.onFocus(e);\n    }\n  }\n\n  handleBlur(e) {\n    document.removeEventListener('keydown', this.handleKeyPress, true);\n    if (this.props.onBlur) {\n      this.props.onBlur(e);\n    }\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    // event.stopPropagation();\n    if (this.props.onClick) {\n      this.props.onClick(event);\n    }\n  }\n\n  handleKeyPress(event) {\n    if (event.which === 37 || event.which === 40) { // Left and Down Arrows\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepBack();\n    } else if (event.which === 38 || event.which === 39) { // Up and Right Arrows\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepForward();\n    }\n  }\n\n  stepForward() {\n    if (this.props.stepForward) {\n      this.props.stepForward();\n    }\n  }\n\n  stepBack() {\n    if (this.props.stepBack) {\n      this.props.stepBack();\n    }\n  }\n\n  calculateDistance(event) {\n    const node = findDOMNode(this);\n    const position = Dom.getPointerPosition(node, event);\n    if (this.props.vertical) {\n      return position.y;\n    }\n    return position.x;\n  }\n\n  renderChildren() {\n    const progress = this.getProgress();\n    const percentage = `${(progress * 100).toFixed(2)}%`;\n    return React.Children.map(this.props.children,\n      child => React.cloneElement(child, { progress, percentage }));\n  }\n\n  render() {\n    const {\n      vertical, label, valuenow, valuetext\n    } = this.props;\n\n    return (\n      <div\n        className={classNames(this.props.className, {\n          'video-react-slider-vertical': vertical,\n          'video-react-slider-horizontal': !vertical,\n          'video-react-sliding': this.state.active,\n        }, 'video-react-slider')}\n        tabIndex=\"0\"\n        role=\"slider\"\n        onMouseDown={this.handleMouseDown}\n        onTouchStart={this.handleMouseDown}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        onClick={this.handleClick}\n        aria-label={label || ''}\n        aria-valuenow={valuenow || ''}\n        aria-valuetext={valuetext || ''}\n        aria-valuemin={0}\n        aria-valuemax={100}\n      >\n        { this.renderChildren() }\n      </div>\n    );\n  }\n}\n\nSlider.propTypes = propTypes;\nSlider.displayName = 'Slider';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport { formatTime } from '../../utils';\n\nconst propTypes = {\n  currentTime: PropTypes.number,\n  duration: PropTypes.number,\n  percentage: PropTypes.string,\n  className: PropTypes.string,\n};\n\n// Shows play progress\nexport default function PlayProgressBar({\n  currentTime, duration, percentage, className\n}) {\n  return (\n    <div\n      data-current-time={formatTime(currentTime, duration)}\n      className={classNames('video-react-play-progress video-react-slider-bar', className)}\n      style={{\n        width: percentage,\n      }}\n    >\n      <span className=\"video-react-control-text\">\n        {`Progress: ${percentage}`}\n      </span>\n    </div>\n  );\n}\n\nPlayProgressBar.propTypes = propTypes;\nPlayProgressBar.displayName = 'PlayProgressBar';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  duration: PropTypes.number,\n  buffered: PropTypes.object,\n  className: PropTypes.string,\n};\n\n// Shows load progress\nexport default function LoadProgressBar({ buffered, duration, className }) {\n  if (!buffered || !buffered.length) {\n    return null;\n  }\n  let bufferedEnd = buffered.end(buffered.length - 1);\n  const style = {};\n\n  if (bufferedEnd > duration) {\n    bufferedEnd = duration;\n  }\n\n  // get the percent width of a time compared to the total end\n  function percentify(time, end) {\n    const percent = (time / end) || 0; // no NaN\n    return `${((percent >= 1 ? 1 : percent) * 100)}%`;\n  }\n\n  // the width of the progress bar\n  style.width = percentify(bufferedEnd, duration);\n\n  let parts = [];\n\n  // add child elements to represent the individual buffered time ranges\n  for (let i = 0; i < buffered.length; i++) {\n    const start = buffered.start(i);\n    const end = buffered.end(i);\n    // set the percent based on the width of the progress bar (bufferedEnd)\n    const part = (\n      <div\n        style={{\n          left: percentify(start, bufferedEnd),\n          width: percentify(end - start, bufferedEnd),\n        }}\n        key={`part-${i}`}\n      />\n    );\n    parts.push(part);\n  }\n\n  if (parts.length === 0) {\n    parts = null;\n  }\n\n  return (\n    <div\n      style={style}\n      className={classNames(\n        'video-react-load-progress',\n        className\n      )}\n    >\n      <span className=\"video-react-control-text\">\n        Loaded: 0%\n      </span>\n      {parts}\n    </div>\n  );\n}\n\nLoadProgressBar.propTypes = propTypes;\nLoadProgressBar.displayName = 'LoadProgressBar';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport { formatTime } from '../../utils';\n\nfunction MouseTimeDisplay({\n  duration, mouseTime, className, text\n}) {\n  if (!mouseTime.time) {\n    return null;\n  }\n\n  const time = text || formatTime(mouseTime.time, duration);\n\n  return (\n    <div\n      className={classNames('video-react-mouse-display', className)}\n      style={{\n        left: `${mouseTime.position}px`,\n      }}\n      data-current-time={time}\n    />\n  );\n}\n\nMouseTimeDisplay.propTypes = {\n  duration: PropTypes.number,\n  mouseTime: PropTypes.object,\n  className: PropTypes.string,\n};\nMouseTimeDisplay.displayName = 'MouseTimeDisplay';\n\nexport default MouseTimeDisplay;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport Slider from '../Slider';\nimport PlayProgressBar from './PlayProgressBar';\nimport LoadProgressBar from './LoadProgressBar';\nimport MouseTimeDisplay from './MouseTimeDisplay';\nimport { formatTime } from '../../utils';\n\nconst propTypes = {\n  player: PropTypes.object,\n  mouseTime: PropTypes.object,\n  actions: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default class SeekBar extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.getPercent = this.getPercent.bind(this);\n    this.getNewTime = this.getNewTime.bind(this);\n    this.stepForward = this.stepForward.bind(this);\n    this.stepBack = this.stepBack.bind(this);\n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n  }\n\n  componentDidMount() {\n  }\n\n  componentDidUpdate() {\n  }\n\n  /**\n   * Get percentage of video played\n   *\n   * @return {Number} Percentage played\n   * @method getPercent\n   */\n  getPercent() {\n    const { currentTime, seekingTime, duration } = this.props.player;\n    const time = seekingTime || currentTime;\n    const percent = time / duration;\n    return percent >= 1 ? 1 : percent;\n  }\n\n  getNewTime(event) {\n    const { player: { duration } } = this.props;\n    const distance = this.slider.calculateDistance(event);\n    const newTime = distance * duration;\n\n    // Don't let video end while scrubbing.\n    return newTime === duration ? newTime - 0.1 : newTime;\n  }\n\n  handleMouseDown() {\n  }\n\n  handleMouseUp(event) {\n    const { actions } = this.props;\n    const newTime = this.getNewTime(event);\n    // Set new time (tell video to seek to new time)\n    actions.seek(newTime);\n    actions.handleEndSeeking(newTime);\n  }\n\n  handleMouseMove(event) {\n    const { actions } = this.props;\n    const newTime = this.getNewTime(event);\n    actions.handleSeekingTime(newTime);\n  }\n\n\n  stepForward() {\n    const { actions } = this.props;\n    actions.forward(5);\n  }\n\n  stepBack() {\n    const { actions } = this.props;\n    actions.replay(5);\n  }\n\n  render() {\n    const {\n      player: {\n        currentTime, seekingTime, duration, buffered\n      }, mouseTime\n    } = this.props;\n    const time = seekingTime || currentTime;\n\n    return (\n      <Slider\n        ref={(input) => {\n          this.slider = input;\n        }}\n        label=\"video progress bar\"\n        className={classNames('video-react-progress-holder', this.props.className)}\n        valuenow={(this.getPercent() * 100).toFixed(2)}\n        valuetext={formatTime(time, duration)}\n        onMouseDown={this.handleMouseDown}\n        onMouseMove={this.handleMouseMove}\n        onMouseUp={this.handleMouseUp}\n        getPercent={this.getPercent}\n        stepForward={this.stepForward}\n        stepBack={this.stepBack}\n      >\n        <LoadProgressBar\n          buffered={buffered}\n          currentTime={time}\n          duration={duration}\n        />\n        <MouseTimeDisplay\n          duration={duration}\n          mouseTime={mouseTime}\n        />\n        <PlayProgressBar\n          currentTime={time}\n          duration={duration}\n        />\n      </Slider>\n    );\n  }\n}\n\nSeekBar.propTypes = propTypes;\nSeekBar.displayName = 'SeekBar';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\n\nimport * as Dom from '../../utils/dom';\nimport SeekBar from './SeekBar';\n\nconst propTypes = {\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default class ProgressControl extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      mouseTime: {\n        time: null,\n        position: 0,\n      },\n    };\n\n    this.handleMouseMoveThrottle = this.handleMouseMove.bind(this);\n  }\n\n  handleMouseMove(event) {\n    if (!event.pageX) {\n      return;\n    }\n    const { player: { duration } } = this.props;\n    const node = findDOMNode(this.seekBar);\n    const newTime = Dom.getPointerPosition(node, event).x * duration;\n    const position = event.pageX - Dom.findElPosition(node).left;\n\n    this.setState({\n      mouseTime: {\n        time: newTime,\n        position,\n      },\n    });\n  }\n\n  render() {\n    const { className } = this.props;\n    return (\n      <div\n        onMouseMove={this.handleMouseMoveThrottle}\n        className={classNames('video-react-progress-control video-react-control', className)}\n      >\n        <SeekBar\n          mouseTime={this.state.mouseTime}\n          ref={\n            (c) => {\n              this.seekBar = c;\n            }\n          }\n          {...this.props}\n        />\n      </div>\n    );\n  }\n}\n\nProgressControl.propTypes = propTypes;\nProgressControl.displayName = 'ProgressControl';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nexport default class PlayToggle extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const { actions, player } = this.props;\n    if (player.paused) {\n      actions.play();\n    } else {\n      actions.pause();\n    }\n  }\n\n  render() {\n    const { player, className } = this.props;\n    const controlText = player.paused ? 'Play' : 'Pause';\n\n    return (\n      <button\n        ref={\n          (c) => {\n            this.button = c;\n          }\n        }\n        className={classNames(className, {\n          'video-react-play-control': true,\n          'video-react-control': true,\n          'video-react-button': true,\n          'video-react-paused': player.paused,\n          'video-react-playing': !player.paused,\n        })}\n        type=\"button\"\n        tabIndex=\"0\"\n        onClick={this.handleClick}\n      >\n        <span className=\"video-react-control-text\">\n          {controlText}\n        </span>\n      </button>\n    );\n  }\n}\n\nPlayToggle.propTypes = propTypes;\nPlayToggle.displayName = 'PlayToggle';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nconst propTypes = {\n  actions: PropTypes.object,\n  className: PropTypes.string,\n  seconds: PropTypes.oneOf([5, 10, 30]),\n};\n\nconst defaultProps = {\n  seconds: 10,\n};\n\nexport default (mode) => {\n  class ForwardReplayControl extends Component {\n    constructor(props, context) {\n      super(props, context);\n      this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick() {\n      const { actions, seconds } = this.props;\n      // Depends mode to implement different actions\n      if (mode === 'forward') {\n        actions.forward(seconds);\n      } else {\n        actions.replay(seconds);\n      }\n    }\n\n    render() {\n      const { seconds, className } = this.props;\n      const classNames = ['video-react-control', 'video-react-button', 'video-react-icon'];\n      classNames.push(`video-react-icon-${mode}-${seconds}`, `video-react-${mode}-control`);\n      if (className) {\n        classNames.push(className);\n      }\n      return (\n        <button\n          ref={\n            (c) => {\n              this.button = c;\n            }\n          }\n          className={classNames.join(' ')}\n          type=\"button\"\n          onClick={this.handleClick}\n        >\n          <span className=\"video-react-control-text\">{`${mode} ${seconds} seconds`}</span>\n        </button>\n      );\n    }\n  }\n\n  ForwardReplayControl.propTypes = propTypes;\n  ForwardReplayControl.defaultProps = defaultProps;\n  return ForwardReplayControl;\n};\n","import ForwardReplayControl from './ForwardReplayControl';\n\n// Pass mode into parent function\nconst ForwardControl = ForwardReplayControl('forward');\n\nForwardControl.displayName = 'ForwardControl';\nexport default ForwardControl;\n","import ForwardReplayControl from './ForwardReplayControl';\n\n// Pass mode into parent function\nconst ReplayControl = ForwardReplayControl('replay');\nReplayControl.displayName = 'ReplayControl';\n\nexport default ReplayControl;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\n\nexport default class FullscreenToggle extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const { player, actions } = this.props;\n    actions.toggleFullscreen(player);\n  }\n\n  render() {\n    const { player, className } = this.props;\n    return (\n      <button\n        className={classNames(className, {\n          'video-react-icon-fullscreen-exit': player.isFullscreen,\n          'video-react-icon-fullscreen': !player.isFullscreen,\n        }, 'video-react-fullscreen-control video-react-control video-react-button video-react-icon')}\n        ref={\n          (c) => {\n            this.button = c;\n          }\n        }\n        type=\"button\"\n        tabIndex=\"0\"\n        onClick={this.handleClick}\n      >\n        <span className=\"video-react-control-text\">Non-Fullscreen</span>\n      </button>\n    );\n  }\n}\n\nFullscreenToggle.propTypes = propTypes;\nFullscreenToggle.displayName = 'FullscreenToggle';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport { formatTime } from '../../utils';\n\nconst propTypes = {\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nfunction RemainingTimeDisplay({ player: { currentTime, duration }, className }) {\n  const remainingTime = duration - currentTime;\n  const formattedTime = formatTime(remainingTime);\n  return (\n    <div\n      className={classNames('video-react-remaining-time video-react-time-control video-react-control', className)}\n    >\n      <div\n        className=\"video-react-remaining-time-display\"\n        aria-live=\"off\"\n      >\n        <span className=\"video-react-control-text\">Remaining Time </span>\n        {`-${formattedTime}`}\n      </div>\n    </div>\n  );\n}\n\nRemainingTimeDisplay.propTypes = propTypes;\nRemainingTimeDisplay.displayName = 'RemainingTimeDisplay';\n\nexport default RemainingTimeDisplay;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport { formatTime } from '../../utils';\n\nconst propTypes = {\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nfunction CurrentTimeDisplay({ player: { currentTime, duration }, className }) {\n  const formattedTime = formatTime(currentTime, duration);\n  return (\n    <div\n      className={classNames('video-react-current-time video-react-time-control video-react-control', className)}\n    >\n      <div\n        className=\"video-react-current-time-display\"\n        aria-live=\"off\"\n      >\n        <span className=\"video-react-control-text\">Current Time </span>\n        {formattedTime}\n      </div>\n    </div>\n  );\n}\n\nCurrentTimeDisplay.propTypes = propTypes;\nCurrentTimeDisplay.displayName = 'CurrentTimeDisplay';\n\nexport default CurrentTimeDisplay;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport { formatTime } from '../../utils';\n\nconst propTypes = {\n  player: PropTypes.object,\n  className: PropTypes.string,\n};\n\nfunction DurationDisplay({ player: { duration }, className }) {\n  const formattedTime = formatTime(duration);\n  return (\n    <div\n      className={classNames(className, 'video-react-duration video-react-time-control video-react-control')}\n    >\n      <div\n        className=\"video-react-duration-display\"\n        aria-live=\"off\"\n      >\n        <span className=\"video-react-control-text\">Duration Time </span>\n        {formattedTime}\n      </div>\n    </div>\n  );\n}\n\nDurationDisplay.propTypes = propTypes;\nDurationDisplay.displayName = 'DurationDisplay';\n\nexport default DurationDisplay;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  separator: PropTypes.string,\n  className: PropTypes.string,\n};\n\nexport default function TimeDivider({ separator, className }) {\n  const separatorText = separator || '/';\n  return (\n    <div\n      className={classNames('video-react-time-control video-react-time-divider', className)}\n      dir=\"ltr\"\n    >\n      <div><span>{separatorText}</span></div>\n    </div>\n  );\n}\n\nTimeDivider.propTypes = propTypes;\nTimeDivider.displayName = 'TimeDivider';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  tagName: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  className: PropTypes.string,\n};\n\nconst defaultProps = {\n  tagName: 'div',\n};\n\nexport default class ClickableComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleKeypress = this.handleKeypress.bind(this);\n  }\n\n  handleKeypress(event) {\n    // Support Space (32) or Enter (13) key operation to fire a click event\n    if (event.which === 32 || event.which === 13) {\n      event.preventDefault();\n      this.handleClick(event);\n    }\n  }\n\n  handleClick(event) {\n    const { onClick } = this.props;\n    onClick(event);\n  }\n\n  handleFocus(e) {\n    document.addEventListener('keydown', this.handleKeypress);\n    if (this.props.onFocus) {\n      this.props.onFocus(e);\n    }\n  }\n\n  handleBlur(e) {\n    document.removeEventListener('keydown', this.handleKeypress);\n    if (this.props.onBlur) {\n      this.props.onBlur(e);\n    }\n  }\n\n  render() {\n    const Tag = this.props.tagName;\n    const props = { ...this.props };\n    delete props.tagName;\n    delete props.className;\n    return (\n      <Tag\n        className={classNames(this.props.className)}\n        role=\"button\"\n        tabIndex=\"0\"\n        onClick={this.handleClick}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        {...props}\n      />\n    );\n  }\n}\n\nClickableComponent.propTypes = propTypes;\nClickableComponent.defaultProps = defaultProps;\nClickableComponent.displayName = 'ClickableComponent';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nconst propTypes = {\n  player: PropTypes.object,\n  children: PropTypes.any,\n};\n\nexport default class Popup extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    // event.stopPropagation();\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        className=\"video-react-menu\"\n        onClick={this.handleClick}\n      >\n        <div className=\"video-react-menu-content\">\n          { children }\n        </div>\n      </div>\n    );\n  }\n}\n\nPopup.propTypes = propTypes;\nPopup.displayName = 'Popup';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\nimport ClickableComponent from '../ClickableComponent';\nimport Popup from './Popup';\n\nconst propTypes = {\n  inline: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  className: PropTypes.string,\n};\n\nconst defaultProps = {\n  inline: true,\n};\n\nexport default function PopupButton(props) {\n  const { inline, className } = props;\n  const ps = { ...props };\n  delete ps.children;\n  delete ps.inline;\n  delete ps.className;\n  return (\n    <ClickableComponent\n      className={classNames(className, {\n        'video-react-menu-button-inline': !!inline,\n        'video-react-menu-button-popup': !inline,\n      }, 'video-react-control video-react-button video-react-menu-button')}\n      {...ps}\n    >\n      <Popup {...props} />\n    </ClickableComponent>\n  );\n}\n\nPopupButton.propTypes = propTypes;\nPopupButton.defaultProps = defaultProps;\nPopupButton.displayName = 'PopupButton';\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  percentage: PropTypes.string,\n  vertical: PropTypes.bool,\n  className: PropTypes.string,\n};\n\nconst defaultProps = {\n  percentage: '100%',\n  vertical: false,\n};\n\nfunction VolumeLevel({ percentage, vertical, className }) {\n  const style = {};\n  if (vertical) {\n    style.height = percentage;\n  } else {\n    style.width = percentage;\n  }\n\n  return (\n    <div\n      className={classNames(className, 'video-react-volume-level')}\n      style={style}\n    >\n      <span className=\"video-react-control-text\" />\n    </div>\n  );\n}\n\nVolumeLevel.propTypes = propTypes;\nVolumeLevel.defaultProps = defaultProps;\nVolumeLevel.displayName = 'VolumeLevel';\nexport default VolumeLevel;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport Slider from '../Slider';\nimport VolumeLevel from './VolumeLevel';\n\nconst propTypes = {\n  actions: PropTypes.object,\n  player: PropTypes.object,\n  className: PropTypes.string,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n};\n\nclass VolumeBar extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      percentage: '0%',\n    };\n\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handlePercentageChange = this.handlePercentageChange.bind(this);\n    this.checkMuted = this.checkMuted.bind(this);\n    this.getPercent = this.getPercent.bind(this);\n    this.stepForward = this.stepForward.bind(this);\n    this.stepBack = this.stepBack.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n  }\n\n  getPercent() {\n    const { player } = this.props;\n    if (player.muted) {\n      return 0;\n    }\n    return player.volume;\n  }\n\n  checkMuted() {\n    const { player, actions } = this.props;\n    if (player.muted) {\n      actions.mute(false);\n    }\n  }\n\n  handleMouseMove(event) {\n    const { actions } = this.props;\n    this.checkMuted();\n    const distance = this.slider.calculateDistance(event);\n    actions.changeVolume(distance);\n  }\n\n  stepForward() {\n    const { player, actions } = this.props;\n    this.checkMuted();\n    actions.changeVolume(player.volume + 0.1);\n  }\n\n  stepBack() {\n    const { player, actions } = this.props;\n    this.checkMuted();\n    actions.changeVolume(player.volume - 0.1);\n  }\n\n  handleFocus(e) {\n    if (this.props.onFocus) {\n      this.props.onFocus(e);\n    }\n  }\n\n  handleBlur(e) {\n    if (this.props.onBlur) {\n      this.props.onBlur(e);\n    }\n  }\n\n  handlePercentageChange(percentage) {\n    if (percentage !== this.state.percentage) {\n      this.setState({\n        percentage,\n      });\n    }\n  }\n\n  handleClick(event) {\n    event.stopPropagation();\n  }\n\n  render() {\n    const { player, className } = this.props;\n\n    const volume = (player.volume * 100).toFixed(2);\n    return (\n      <Slider\n        ref={(c) => {\n          this.slider = c;\n        }}\n        label=\"volume level\"\n        valuenow={volume}\n        valuetext={`${volume}%`}\n        onMouseMove={this.handleMouseMove}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        onClick={this.handleClick}\n        sliderActive={this.handleFocus}\n        sliderInactive={this.handleBlur}\n        getPercent={this.getPercent}\n        onPercentageChange={this.handlePercentageChange}\n        stepForward={this.stepForward}\n        stepBack={this.stepBack}\n        {...this.props}\n        className={classNames(className, 'video-react-volume-bar video-react-slider-bar')}\n      >\n        <VolumeLevel\n          {...this.props}\n        />\n      </Slider>\n    );\n  }\n}\n\nVolumeBar.propTypes = propTypes;\nVolumeBar.displayName = 'VolumeBar';\n\nexport default VolumeBar;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport PopupButton from '../popup/PopupButton';\nimport VolumeBar from '../volume-control/VolumeBar';\n\n\nconst propTypes = {\n  player: PropTypes.object,\n  actions: PropTypes.object,\n  vertical: PropTypes.bool,\n  className: PropTypes.string,\n  alwaysShowVolume: PropTypes.bool,\n};\n\nconst defaultProps = {\n  vertical: false,\n};\n\n\nclass VolumeMenuButton extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      active: false,\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  get volumeLevel() {\n    const { player: { volume, muted } } = this.props;\n    let level = 3;\n    if (volume === 0 || muted) {\n      level = 0;\n    } else if (volume < 0.33) {\n      level = 1;\n    } else if (volume < 0.67) {\n      level = 2;\n    }\n    return level;\n  }\n\n  handleClick() {\n    const { player, actions } = this.props;\n    actions.mute(!player.muted);\n  }\n\n  handleFocus() {\n    this.setState({\n      active: true,\n    });\n  }\n\n  handleBlur() {\n    this.setState({\n      active: false,\n    });\n  }\n\n  render() {\n    const { vertical, player, className } = this.props;\n    const inline = !vertical;\n    const level = this.volumeLevel;\n    return (\n      <PopupButton\n        className={classNames(className, {\n          'video-react-volume-menu-button-vertical': vertical,\n          'video-react-volume-menu-button-horizontal': !vertical,\n          'video-react-vol-muted': player.muted,\n          'video-react-vol-0': level === 0 && !player.muted,\n          'video-react-vol-1': level === 1,\n          'video-react-vol-2': level === 2,\n          'video-react-vol-3': level === 3,\n          'video-react-slider-active': this.props.alwaysShowVolume || this.state.active,\n          'video-react-lock-showing': this.props.alwaysShowVolume || this.state.active,\n        }, 'video-react-volume-menu-button')}\n        onClick={this.handleClick}\n        inline={inline}\n      >\n        <VolumeBar\n          onFocus={this.handleFocus}\n          onBlur={this.handleBlur}\n          {...this.props}\n        />\n      </PopupButton>\n    );\n  }\n}\n\nVolumeMenuButton.propTypes = propTypes;\nVolumeMenuButton.defaultProps = defaultProps;\nVolumeMenuButton.displayName = 'VolumeMenuButton';\nexport default VolumeMenuButton;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nconst propTypes = {\n  children: PropTypes.any,\n};\n\nexport default class Menu extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    // event.stopPropagation();\n  }\n\n\n  render() {\n    return (\n      <div\n        className=\"video-react-menu video-react-lock-showing\"\n        role=\"presentation\"\n        onClick={this.handleClick}\n      >\n        <ul className=\"video-react-menu-content\">\n          {this.props.children}\n        </ul>\n      </div>\n    );\n  }\n}\n\nMenu.propTypes = propTypes;\nMenu.displayName = 'Menu';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nconst propTypes = {\n  item: PropTypes.object,\n  index: PropTypes.number,\n  activateIndex: PropTypes.number,\n  onSelectItem: PropTypes.func,\n};\n\nexport default class MenuItem extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const { index, onSelectItem } = this.props;\n    onSelectItem(index);\n  }\n\n  render() {\n    const { item, index, activateIndex } = this.props;\n    return (\n      <li\n        className={classNames({\n          'video-react-menu-item': true,\n          'video-react-selected': index === activateIndex,\n        })}\n        role=\"menuitem\"\n        onClick={this.handleClick}\n      >\n        {item.label}\n        <span className=\"video-react-control-text\" />\n      </li>\n    );\n  }\n}\n\nMenuItem.propTypes = propTypes;\nMenuItem.displayName = 'MenuItem';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport Menu from './Menu';\nimport MenuItem from './MenuItem';\nimport ClickableComponent from '../ClickableComponent';\n\nconst propTypes = {\n  inline: PropTypes.bool,\n  items: PropTypes.array,\n  className: PropTypes.string,\n  onSelectItem: PropTypes.func,\n  children: PropTypes.any,\n  selectedIndex: PropTypes.number,\n};\n\nexport default class MenuButton extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      active: false,\n      activateIndex: props.selectedIndex || 0,\n    };\n\n    this.commitSelection = this.commitSelection.bind(this);\n    this.activateMenuItem = this.activateMenuItem.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.renderMenu = this.renderMenu.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n    this.handleUpArrow = this.handleUpArrow.bind(this);\n    this.handleDownArrow = this.handleDownArrow.bind(this);\n    this.handleEscape = this.handleEscape.bind(this);\n    this.handleReturn = this.handleReturn.bind(this);\n    this.handleTab = this.handleTab.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n    this.handleSelectItem = this.handleSelectItem.bind(this);\n    this.handleIndexChange = this.handleIndexChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.selectedIndex !== this.props.selectedIndex) {\n      this.activateMenuItem(this.props.selectedIndex);\n    }\n  }\n\n  commitSelection(index) {\n    this.setState({\n      activateIndex: index,\n      active: false,\n    });\n    this.handleIndexChange(index);\n  }\n\n  activateMenuItem(index) {\n    this.setState({\n      activateIndex: index\n    });\n    this.handleIndexChange(index);\n  }\n\n  handleIndexChange(index) {\n    const { onSelectItem } = this.props;\n    onSelectItem(index);\n  }\n\n  handleClick() {\n    this.setState(prevState => ({\n      active: !prevState.active,\n    }));\n  }\n\n  handleFocus() {\n    document.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleBlur() {\n    this.setState({\n      active: false,\n    });\n    document.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleUpArrow(e) {\n    const { items } = this.props;\n    if (this.state.active) {\n      e.preventDefault();\n      let newIndex = this.state.activateIndex - 1;\n      if (newIndex < 0) {\n        newIndex = items.length ? items.length - 1 : 0;\n      }\n      this.activateMenuItem(newIndex);\n    }\n  }\n\n  handleDownArrow(e) {\n    const { items } = this.props;\n    if (this.state.active) {\n      e.preventDefault();\n      let newIndex = this.state.activateIndex + 1;\n      if (newIndex >= items.length) {\n        newIndex = 0;\n      }\n      this.activateMenuItem(newIndex);\n    }\n  }\n\n  handleTab(e) {\n    if (this.state.active) {\n      e.preventDefault();\n      this.commitSelection(this.state.activateIndex);\n    }\n  }\n\n  handleReturn(e) {\n    e.preventDefault();\n    if (this.state.active) {\n      this.commitSelection(this.state.activateIndex);\n    } else {\n      this.setState({\n        active: true,\n      });\n    }\n  }\n\n  handleEscape() {\n    this.setState({\n      active: false,\n      activateIndex: 0,\n    });\n  }\n\n  handleKeyPress(event) {\n    // Escape (27) key\n    if (event.which === 27) {\n      this.handleEscape(event);\n    } else if (event.which === 9) { // Tab (9) key\n      this.handleTab(event);\n    } else if (event.which === 13) { // Enter (13) key\n      this.handleReturn(event);\n    } else if (event.which === 38) { // Up (38) key\n      this.handleUpArrow(event);\n    } else if (event.which === 40) { // Down (40) key press\n      this.handleDownArrow(event);\n    }\n  }\n\n  handleSelectItem(i) {\n    this.commitSelection(i);\n  }\n\n  renderMenu() {\n    if (!this.state.active) {\n      return null;\n    }\n\n    const { items } = this.props;\n    return (\n      <Menu>\n        {items.map((item, i) => (\n          <MenuItem\n            item={item}\n            index={i}\n            onSelectItem={this.handleSelectItem}\n            activateIndex={this.state.activateIndex}\n            key={`item-${i++}`}\n          />\n        ))}\n      </Menu>\n    );\n  }\n\n  render() {\n    const { inline, className } = this.props;\n\n    return (\n      <ClickableComponent\n        className={classNames(className, {\n          'video-react-menu-button-inline': !!inline,\n          'video-react-menu-button-popup': !inline,\n          'video-react-menu-button-active': this.state.active,\n        }, 'video-react-control video-react-button video-react-menu-button')}\n        role=\"button\"\n        tabIndex=\"0\"\n        ref={(c) => {\n          this.menuButton = c;\n        }}\n        onClick={this.handleClick}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n      >\n        {this.props.children}\n        {this.renderMenu()}\n      </ClickableComponent>\n    );\n  }\n}\n\nMenuButton.propTypes = propTypes;\nMenuButton.displayName = 'MenuButton';\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport MenuButton from '../menu/MenuButton';\n\nconst propTypes = {\n  player: PropTypes.object,\n  actions: PropTypes.object,\n  rates: PropTypes.array,\n  className: PropTypes.string,\n};\n\nconst defaultProps = {\n  rates: [2, 1.5, 1.25, 1, 0.5, 0.25],\n};\n\nclass PlaybackRateMenuButton extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleSelectItem = this.handleSelectItem.bind(this);\n  }\n\n  handleSelectItem(index) {\n    const { rates, actions } = this.props;\n    if (index >= 0 && index < rates.length) {\n      actions.changeRate(rates[index]);\n    }\n  }\n\n  render() {\n    const { rates, player } = this.props;\n    const items = rates.map(rate => (\n      {\n        label: `${rate}x`,\n        value: rate,\n      }\n    ));\n    const selectedIndex = rates.indexOf(player.playbackRate) || 0;\n\n    return (\n      <MenuButton\n        className={classNames('video-react-playback-rate', this.props.className)}\n        onSelectItem={this.handleSelectItem}\n        items={items}\n        selectedIndex={selectedIndex}\n      >\n        <span className=\"video-react-control-text\">Playback Rate</span>\n        <div className=\"video-react-playback-rate-value\">\n          {`${player.playbackRate.toFixed(2)}x`}\n        </div>\n      </MenuButton>\n    );\n  }\n}\n\nPlaybackRateMenuButton.propTypes = propTypes;\nPlaybackRateMenuButton.defaultProps = defaultProps;\nPlaybackRateMenuButton.displayName = 'PlaybackRateMenuButton';\nexport default PlaybackRateMenuButton;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport ProgressControl from './ProgressControl';\nimport PlayToggle from './PlayToggle';\nimport ForwardControl from './ForwardControl';\nimport ReplayControl from './ReplayControl';\nimport FullscreenToggle from './FullscreenToggle';\nimport RemainingTimeDisplay from '../time-controls/RemainingTimeDisplay';\nimport CurrentTimeDisplay from '../time-controls/CurrentTimeDisplay';\nimport DurationDisplay from '../time-controls/DurationDisplay';\nimport TimeDivider from '../time-controls/TimeDivider';\nimport VolumeMenuButton from './VolumeMenuButton';\nimport PlaybackRateMenuButton from './PlaybackRateMenuButton';\nimport { mergeAndSortChildren } from '../../utils';\n\nconst propTypes = {\n  children: PropTypes.any,\n  autoHide: PropTypes.bool,\n  disableDefaultControls: PropTypes.bool,\n  disableCompletely: PropTypes.bool,\n  className: PropTypes.string,\n};\n\n\nconst defaultProps = {\n  autoHide: true,\n  disableCompletely: false,\n};\n\n\nexport default class ControlBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getDefaultChildren = this.getDefaultChildren.bind(this);\n    this.getFullChildren = this.getFullChildren.bind(this);\n  }\n\n  getDefaultChildren() {\n    return [\n      <PlayToggle\n        key=\"play-toggle\"\n        order={1}\n      />,\n      <VolumeMenuButton\n        key=\"volume-menu-button\"\n        order={4}\n      />,\n      <CurrentTimeDisplay\n        key=\"current-time-display\"\n        order={5.1}\n      />,\n      <TimeDivider\n        key=\"time-divider\"\n        order={5.2}\n      />,\n      <DurationDisplay\n        key=\"duration-display\"\n        order={5.3}\n      />,\n      <ProgressControl\n        key=\"progress-control\"\n        order={6}\n      />,\n      <FullscreenToggle\n        key=\"fullscreen-toggle\"\n        order={8}\n      />,\n    ];\n  }\n\n  getFullChildren() {\n    return [\n      <PlayToggle\n        key=\"play-toggle\"\n        order={1}\n      />,\n      <ReplayControl\n        key=\"replay-control\"\n        order={2}\n      />,\n      <ForwardControl\n        key=\"forward-control\"\n        order={3}\n      />,\n      <VolumeMenuButton\n        key=\"volume-menu-button\"\n        order={4}\n      />,\n      <CurrentTimeDisplay\n        key=\"current-time-display\"\n        order={5}\n      />,\n      <TimeDivider\n        key=\"time-divider\"\n        order={6}\n      />,\n      <DurationDisplay\n        key=\"duration-display\"\n        order={7}\n      />,\n      <ProgressControl\n        key=\"progress-control\"\n        order={8}\n      />,\n      <RemainingTimeDisplay\n        key=\"remaining-time-display\"\n        order={9}\n      />,\n      <PlaybackRateMenuButton\n        rates={[1, 1.25, 1.5, 2]}\n        key=\"playback-rate\"\n        order={10}\n      />,\n      <FullscreenToggle\n        key=\"fullscreen-toggle\"\n        order={11}\n      />,\n    ];\n  }\n\n  getChildren() {\n    const children = React.Children.toArray(this.props.children);\n    const defaultChildren = this.props.disableDefaultControls ? [] : this.getDefaultChildren();\n    const { className, ...parentProps } = this.props; // remove className\n    return mergeAndSortChildren(defaultChildren, children, parentProps);\n  }\n\n  render() {\n    const { autoHide, className, disableCompletely } = this.props;\n    const children = this.getChildren();\n\n    return (disableCompletely\n      ? null\n      : (\n        <div\n          className={classNames('video-react-control-bar', {\n            'video-react-control-bar-auto-hide': autoHide,\n          }, className)}\n        >\n          {children}\n        </div>\n      )\n    );\n  }\n}\n\nControlBar.propTypes = propTypes;\nControlBar.defaultProps = defaultProps;\nControlBar.displayName = 'ControlBar';\n","const USER_AGENT = typeof window !== 'undefined' && window.navigator ? window.navigator.userAgent : '';\n// const webkitVersionMap = (/AppleWebKit\\/([\\d.]+)/i).exec(USER_AGENT);\n// const appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n\n/*\n * Device is an iPhone\n *\n * @type {Boolean}\n * @constant\n * @private\n */\nexport const IS_IPAD = (/iPad/i).test(USER_AGENT);\n\n// The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n// to identify iPhones, we need to exclude iPads.\n// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\nexport const IS_IPHONE = (/iPhone/i).test(USER_AGENT) && !IS_IPAD;\nexport const IS_IPOD = (/iPod/i).test(USER_AGENT);\nexport const IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport Manager from '../Manager';\n\nimport BigPlayButton from './BigPlayButton';\nimport LoadingSpinner from './LoadingSpinner';\nimport PosterImage from './PosterImage';\nimport Video from './Video';\nimport Bezel from './Bezel';\nimport Shortcut from './Shortcut';\nimport ControlBar from './control-bar/ControlBar';\n\nimport * as browser from '../utils/browser';\nimport { mergeAndSortChildren, isVideoChild, throttle } from '../utils';\nimport fullscreen from '../utils/fullscreen';\n\nconst propTypes = {\n  children: PropTypes.any,\n\n  width: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  height: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]),\n  fluid: PropTypes.bool,\n  muted: PropTypes.bool,\n  playsInline: PropTypes.bool,\n  aspectRatio: PropTypes.string,\n  className: PropTypes.string,\n  videoId: PropTypes.string,\n\n  startTime: PropTypes.number,\n  loop: PropTypes.bool,\n  autoPlay: PropTypes.bool,\n  src: PropTypes.string,\n  poster: PropTypes.string,\n  preload: PropTypes.oneOf(['auto', 'metadata', 'none']),\n\n  onLoadStart: PropTypes.func,\n  onWaiting: PropTypes.func,\n  onCanPlay: PropTypes.func,\n  onCanPlayThrough: PropTypes.func,\n  onPlaying: PropTypes.func,\n  onEnded: PropTypes.func,\n  onSeeking: PropTypes.func,\n  onSeeked: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPause: PropTypes.func,\n  onProgress: PropTypes.func,\n  onDurationChange: PropTypes.func,\n  onError: PropTypes.func,\n  onSuspend: PropTypes.func,\n  onAbort: PropTypes.func,\n  onEmptied: PropTypes.func,\n  onStalled: PropTypes.func,\n  onLoadedMetadata: PropTypes.func,\n  onLoadedData: PropTypes.func,\n  onTimeUpdate: PropTypes.func,\n  onRateChange: PropTypes.func,\n  onVolumeChange: PropTypes.func,\n\n  store: PropTypes.object,\n};\n\nconst defaultProps = {\n  fluid: true,\n  muted: false,\n  playsInline: false,\n  aspectRatio: 'auto',\n};\n\n\nexport default class Player extends Component {\n  constructor(props) {\n    super(props);\n\n    this.controlsHideTimer = null;\n\n    this.video = null; // the Video component\n    this.manager = new Manager(props.store);\n    this.actions = this.manager.getActions();\n    this.manager.subscribeToPlayerStateChange(this.handleStateChange.bind(this));\n\n    this.getStyle = this.getStyle.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n    this.getChildren = this.getChildren.bind(this);\n    this.handleMouseMove = throttle(this.handleMouseMove.bind(this), 250);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.startControlsTimer = this.startControlsTimer.bind(this);\n    this.handleFullScreenChange = this.handleFullScreenChange.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  componentDidMount() {\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize);\n\n    fullscreen.addEventListener(this.handleFullScreenChange);\n  }\n\n  componentWillUnmount() {\n    // Remove event listener\n    window.removeEventListener('resize', this.handleResize);\n    fullscreen.removeEventListener(this.handleFullScreenChange);\n    if (this.controlsHideTimer) {\n      window.clearTimeout(this.controlsHideTimer);\n    }\n  }\n\n  getDefaultChildren(originalChildren) {\n    return [\n      <Video\n        ref={(c) => {\n          this.video = c;\n          this.manager.video = this.video;\n        }}\n        key=\"video\"\n        order={0.0}\n      >\n        {originalChildren}\n      </Video>,\n      <PosterImage\n        key=\"poster-image\"\n        order={1.0}\n      />,\n      <LoadingSpinner\n        key=\"loading-spinner\"\n        order={2.0}\n      />,\n      <Bezel\n        key=\"bezel\"\n        order={3.0}\n      />,\n      <BigPlayButton\n        key=\"big-play-button\"\n        order={4.0}\n      />,\n      <ControlBar\n        key=\"control-bar\"\n        order={5.0}\n      />,\n      <Shortcut\n        key=\"shortcut\"\n        order={99.0}\n      />,\n    ];\n  }\n\n  getChildren(props) {\n    const {\n      className: _, // remove className\n      children: originalChildren,\n      ...propsWithoutChildren\n    } = props;\n    const children = React.Children.toArray(this.props.children)\n      .filter(e => (!isVideoChild(e)));\n    const defaultChildren = this.getDefaultChildren(originalChildren);\n    return mergeAndSortChildren(defaultChildren, children, propsWithoutChildren);\n  }\n\n  setWidthOrHeight(style, name, value) {\n    let styleVal;\n    if (typeof value === 'string') {\n      if (value === 'auto') {\n        styleVal = 'auto';\n      } else if (value.match(/\\d+%/)) {\n        styleVal = value;\n      }\n    } else if (typeof value === 'number') {\n      styleVal = `${value}px`;\n    }\n    Object.assign(style, {\n      [name]: styleVal,\n    });\n  }\n\n  getStyle() {\n    const {\n      fluid,\n      aspectRatio: propsAspectRatio,\n      height: propsHeight,\n      width: propsWidth\n    } = this.props;\n    const { player } = this.manager.getState();\n    const style = {};\n    let width;\n    let height;\n    let aspectRatio;\n\n    // The aspect ratio is either used directly or to calculate width and height.\n    if (propsAspectRatio !== undefined\n      && propsAspectRatio !== 'auto') {\n      // Use any aspectRatio that's been specifically set\n      aspectRatio = propsAspectRatio;\n    } else if (player.videoWidth) {\n      // Otherwise try to get the aspect ratio from the video metadata\n      aspectRatio = `${player.videoWidth}:${player.videoHeight}`;\n    } else {\n      // Or use a default. The video element's is 2:1, but 16:9 is more common.\n      aspectRatio = '16:9';\n    }\n\n    // Get the ratio as a decimal we can use to calculate dimensions\n    const ratioParts = aspectRatio.split(':');\n    const ratioMultiplier = ratioParts[1] / ratioParts[0];\n\n    if (propsWidth !== undefined) {\n      // Use any width that's been specifically set\n      width = propsWidth;\n    } else if (propsHeight !== undefined) {\n      // Or calulate the width from the aspect ratio if a height has been set\n      width = propsHeight / ratioMultiplier;\n    } else {\n      // Or use the video's metadata, or use the video el's default of 300\n      width = player.videoWidth || 400;\n    }\n\n    if (propsHeight !== undefined) {\n      // Use any height that's been specifically set\n      height = propsHeight;\n    } else {\n      // Otherwise calculate the height from the ratio and the width\n      height = width * ratioMultiplier;\n    }\n\n    if (fluid) {\n      style.paddingTop = `${ratioMultiplier * 100}%`;\n    } else {\n      // If Width contains \"auto\", set \"auto\" in style\n      this.setWidthOrHeight(style, 'width', width);\n      this.setWidthOrHeight(style, 'height', height);\n    }\n\n    return style;\n  }\n\n  // get redux state\n  // { player, operation }\n  getState() {\n    return this.manager.getState();\n  }\n\n  // get playback rate\n  get playbackRate() {\n    return this.video.playbackRate;\n  }\n\n  // set playback rate\n  // speed of video\n  set playbackRate(rate) {\n    this.video.playbackRate = rate;\n  }\n\n  get muted() {\n    return this.video.muted;\n  }\n\n  set muted(val) {\n    this.video.muted = val;\n  }\n\n  get volume() {\n    return this.video.volume;\n  }\n\n  set volume(val) {\n    this.video.volume = val;\n  }\n\n  // video width\n  get videoWidth() {\n    return this.video.videoWidth;\n  }\n\n  // video height\n  get videoHeight() {\n    return this.video.videoHeight;\n  }\n\n  // play the video\n  play() {\n    this.video.play();\n  }\n\n  // pause the video\n  pause() {\n    this.video.pause();\n  }\n\n  // Change the video source and re-load the video:\n  load() {\n    this.video.load();\n  }\n\n  // Add a new text track to the video\n  addTextTrack(...args) {\n    this.video.addTextTrack(...args);\n  }\n\n  // Check if your browser can play different types of video:\n  canPlayType(...args) {\n    this.video.canPlayType(...args);\n  }\n\n  // seek video by time\n  seek(time) {\n    this.video.seek(time);\n  }\n\n  // jump forward x seconds\n  forward(seconds) {\n    this.video.forward(seconds);\n  }\n\n  // jump back x seconds\n  replay(seconds) {\n    this.video.replay(seconds);\n  }\n\n  // enter or exist full screen\n  toggleFullscreen() {\n    this.video.toggleFullscreen();\n  }\n\n  // subscribe to player state change\n  subscribeToStateChange(listener) {\n    return this.manager.subscribeToPlayerStateChange(listener);\n  }\n\n  // player resize\n  handleResize() {\n  }\n\n  handleFullScreenChange() {\n    this.actions.handleFullscreenChange(fullscreen.isFullscreen);\n  }\n\n  handleMouseDown() {\n    this.startControlsTimer();\n  }\n\n  handleMouseMove() {\n    this.startControlsTimer();\n  }\n\n  handleKeyDown() {\n    this.startControlsTimer();\n  }\n\n  startControlsTimer() {\n    this.actions.userActivate(true);\n    clearTimeout(this.controlsHideTimer);\n    this.controlsHideTimer = setTimeout(() => {\n      this.actions.userActivate(false);\n    }, 3000);\n  }\n\n  handleStateChange(state, prevState) {\n    if (state.isFullscreen !== prevState.isFullscreen) {\n      this.handleResize();\n    }\n    this.forceUpdate(); // re-render\n  }\n\n  handleFocus() {\n    this.actions.activate(true);\n  }\n\n  handleBlur() {\n    this.actions.activate(false);\n  }\n\n  render() {\n    const { fluid } = this.props;\n    const { player } = this.manager.getState();\n    const {\n      paused, hasStarted, waiting, seeking, isFullscreen, userActivity\n    } = player;\n\n    const props = {\n      ...this.props,\n      player,\n      actions: this.actions,\n      manager: this.manager,\n      store: this.manager.store,\n      video: this.video ? this.video.video : null,\n    };\n    const children = this.getChildren(props);\n\n    return (\n      <div\n        className={classNames({\n          'video-react-controls-enabled': true,\n          'video-react-has-started': hasStarted,\n          'video-react-paused': paused,\n          'video-react-playing': !paused,\n          'video-react-waiting': waiting,\n          'video-react-seeking': seeking,\n          'video-react-fluid': fluid,\n          'video-react-fullscreen': isFullscreen,\n          'video-react-user-inactive': !userActivity,\n          'video-react-user-active': userActivity,\n          'video-react-workinghover': !browser.IS_IOS,\n        }, 'video-react', this.props.className)}\n        style={this.getStyle()}\n        ref={(c) => {\n          this.manager.rootElement = c;\n        }}\n        role=\"region\"\n        onTouchStart={this.handleMouseDown}\n        onMouseDown={this.handleMouseDown}\n        onMouseMove={this.handleMouseMove}\n        onKeyDown={this.handleKeyDown}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        tabIndex=\"-1\"\n      >\n        {children}\n      </div>\n    );\n  }\n}\n\nPlayer.contextTypes = { store: PropTypes.object };\nPlayer.propTypes = propTypes;\nPlayer.defaultProps = defaultProps;\nPlayer.displayName = 'Player';\n","import React, { Component } from 'react';\nimport PlaybackRateMenuButton from './PlaybackRateMenuButton';\nimport { deprecatedWarning } from '../../utils';\n\nexport default class PlaybackRate extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    deprecatedWarning('PlaybackRate', 'PlaybackRateMenuButton');\n  }\n\n  render() {\n    return <PlaybackRateMenuButton {...this.props} />;\n  }\n}\n\nPlaybackRate.displayName = 'PlaybackRate';\n"],"names":["LOAD_START","CAN_PLAY","WAITING","CAN_PLAY_THROUGH","PLAYING","PLAY","PAUSE","END","SEEKING","SEEKED","SEEKING_TIME","END_SEEKING","DURATION_CHANGE","TIME_UPDATE","VOLUME_CHANGE","PROGRESS_CHANGE","RATE_CHANGE","SUSPEND","ABORT","EMPTIED","STALLED","LOADED_META_DATA","LOADED_DATA","RESIZE","ERROR","handleLoadStart","videoProps","handleCanPlay","handleWaiting","handleCanPlayThrough","handlePlaying","handlePlay","handlePause","handleEnd","handleSeeking","handleSeeked","handleDurationChange","handleTimeUpdate","handleVolumeChange","handleProgressChange","handleRateChange","handleSuspend","handleAbort","handleEmptied","handleStalled","handleLoadedMetaData","handleLoadedData","handleResize","handleError","handleSeekingTime","time","handleEndSeeking","Fullscreen","elm","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","document","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","handler","addEventListener","removeEventListener","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","OPERATE","FULLSCREEN_CHANGE","PLAYER_ACTIVATE","USER_ACTIVATE","handleFullscreenChange","isFullscreen","activate","activity","userActivate","play","operation","video","pause","togglePlay","seek","forward","seconds","replay","changeRate","rate","playbackRate","changeVolume","volume","v","mute","muted","toggleFullscreen","player","fullscreen","enabled","exit","request","rootElement","initialState","state","action","type","paused","hasStarted","waiting","count","playerReducer","operationReducer","Manager","store","createStore","reducer","manager","dispatch","actions","playerActions","videoActions","bindActionCreator","actionCreator","bindAction","apply","arguments","Object","keys","filter","key","reduce","boundActions","getState","listener","bind","prevState","handleChange","prevStateCopy","subscribe","subscribeToStateChange","propTypes","PropTypes","object","string","defaultProps","BigPlayButton","props","context","handleClick","position","classNames","className","currentSrc","Component","displayName","LoadingSpinner","error","PosterImage","poster","isNaN","Number","value","formatTime","guide","s","Math","floor","m","h","gm","gh","Infinity","isVideoChild","c","find","elements","func","isTypeEqual","component1","component2","type1","type2","mergeAndSortChildren","defaultChildren","_children","_parentProps","defaultOrder","children","React","Children","toArray","order","parentProps","e","disabled","concat","component","map","element","defaultComponent","cloneElement","sort","a","b","deprecatedWarning","oldMethodCall","newMethodCall","warn","throttle","callback","limit","wait","mediaProperties","any","number","bool","oneOf","Video","getProperties","renderChildren","handleEnded","handleProgress","handleKeypress","forceUpdate","properties","promise","undefined","catch","then","load","addTextTrack","canPlayType","currentTime","onLoadStart","onCanPlay","onCanPlayThrough","onPlaying","onPlay","onPause","onDurationChange","onProgress","loop","onEnded","onWaiting","onSeeking","onSeeked","onSuspend","onAbort","onEmptied","onStalled","onLoadedMetadata","startTime","onLoadedData","onTimeUpdate","onRateChange","onVolumeChange","onError","onResize","cprops","preOnError","preload","src","autoPlay","playsInline","crossOrigin","videoId","val","videoWidth","videoHeight","Bezel","timer","subscribeToOperationStateChange","handleStateChange","source","setState","setTimeout","style","hidden","findElPosition","el","box","getBoundingClientRect","parentNode","body","docEl","documentElement","clientLeft","scrollLeft","window","pageXOffset","left","clientTop","scrollTop","pageYOffset","top","round","getPointerPosition","event","boxW","offsetWidth","boxH","offsetHeight","boxY","boxX","evtPageY","pageY","evtPageX","pageX","changedTouches","y","max","min","x","hasClass","cls","classes","split","i","length","toLowerCase","array","Shortcut","defaultShortcuts","duration","shortcuts","mergeShortcuts","handleKeyPress","handleDoubleClick","prevProps","getShortcutKey","keyCode","ctrl","shift","alt","shortcut","assign","mergedShortcuts","handle","gradeShortcut","score","ps","forEach","isActive","activeElement","which","ctrlKey","metaKey","shiftKey","altKey","preventDefault","target","nodeName","readyState","clickable","canBeClicked","dblclickable","node","Slider","handleMouseDown","handleMouseMove","handleMouseUp","handleFocus","handleBlur","stepForward","stepBack","calculateDistance","getProgress","getPercent","progress","onMouseDown","sliderActive","onMouseMove","onMouseUp","sliderInactive","onFocus","onBlur","onClick","stopPropagation","findDOMNode","Dom","vertical","percentage","toFixed","child","label","valuenow","valuetext","active","PlayProgressBar","LoadProgressBar","buffered","bufferedEnd","end","percentify","percent","width","parts","start","part","push","MouseTimeDisplay","mouseTime","text","SeekBar","getNewTime","seekingTime","distance","slider","newTime","input","ProgressControl","handleMouseMoveThrottle","seekBar","PlayToggle","controlText","button","mode","ForwardReplayControl","join","ForwardControl","ReplayControl","FullscreenToggle","RemainingTimeDisplay","remainingTime","formattedTime","CurrentTimeDisplay","DurationDisplay","TimeDivider","separator","separatorText","isRequired","ClickableComponent","Tag","tagName","Popup","PopupButton","inline","VolumeLevel","height","VolumeBar","handlePercentageChange","checkMuted","VolumeMenuButton","level","volumeLevel","alwaysShowVolume","Menu","MenuItem","index","onSelectItem","item","activateIndex","MenuButton","selectedIndex","commitSelection","activateMenuItem","renderMenu","handleUpArrow","handleDownArrow","handleEscape","handleReturn","handleTab","handleSelectItem","handleIndexChange","items","newIndex","menuButton","PlaybackRateMenuButton","rates","indexOf","ControlBar","getDefaultChildren","getFullChildren","disableDefaultControls","autoHide","disableCompletely","getChildren","USER_AGENT","navigator","userAgent","IS_IPAD","test","IS_IPHONE","IS_IPOD","IS_IOS","oneOfType","Player","controlsHideTimer","getActions","subscribeToPlayerStateChange","getStyle","startControlsTimer","handleFullScreenChange","handleKeyDown","clearTimeout","originalChildren","_","propsWithoutChildren","name","styleVal","match","fluid","propsAspectRatio","aspectRatio","propsHeight","propsWidth","ratioParts","ratioMultiplier","paddingTop","setWidthOrHeight","seeking","userActivity","browser","contextTypes","PlaybackRate"],"mappings":"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"}